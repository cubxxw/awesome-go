<template><div><h1 id="æ¥å£å’Œå¤šæ€ã€ç±»å‹æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#æ¥å£å’Œå¤šæ€ã€ç±»å‹æ–­è¨€" aria-hidden="true">#</a> æ¥å£å’Œå¤šæ€ã€ç±»å‹æ–­è¨€</h1>
<nav class="table-of-contents"><ul><li><router-link to="#æ¥å£ä½“ç°å¤šæ€">æ¥å£ä½“ç°å¤šæ€</router-link></li><li><router-link to="#ç»“æ„ä½“æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£åŒºåˆ«">ç»“æ„ä½“æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£åŒºåˆ«</router-link></li><li><router-link to="#ç±»å‹æ–­è¨€-â€“-æ¥å£åˆ¤æ–­ç±»å‹">ç±»å‹æ–­è¨€ â€“ æ¥å£åˆ¤æ–­ç±»å‹</router-link></li><li><router-link to="#ç±»å‹æ–­è¨€-å¦‚ä½•æ£€æµ‹å’Œè½¬æ¢æ¥å£å˜é‡çš„ç±»å‹">ç±»å‹æ–­è¨€ï¼šå¦‚ä½•æ£€æµ‹å’Œè½¬æ¢æ¥å£å˜é‡çš„ç±»å‹</router-link></li><li><router-link to="#ç±»å‹åˆ¤æ–­-type-switch">ç±»å‹åˆ¤æ–­ï¼štype-switch</router-link></li><li><router-link to="#æµ‹è¯•ä¸€ä¸ªå€¼æ˜¯å¦å®ç°äº†æŸä¸ªæ¥å£">æµ‹è¯•ä¸€ä¸ªå€¼æ˜¯å¦å®ç°äº†æŸä¸ªæ¥å£</router-link></li><li><router-link to="#æ¥å£åµŒå¥—">æ¥å£åµŒå¥—</router-link></li><li><router-link to="#end-é“¾æ¥">END é“¾æ¥</router-link></li></ul></nav>
<p>[toc]</p>
<p>ğŸ˜¶â€ğŸŒ«ï¸goè¯­è¨€å®˜æ–¹ç¼–ç¨‹æŒ‡å—ï¼š<a href="https://pkg.go.dev/std" target="_blank" rel="noopener noreferrer">https://pkg.go.dev/std<ExternalLinkIcon/></a></p>
<blockquote>
<p>goè¯­è¨€çš„å®˜æ–¹æ–‡æ¡£å­¦ä¹ ç¬”è®°å¾ˆå…¨ï¼Œæ¨èå»å®˜ç½‘å­¦ä¹ </p>
</blockquote>
<p>ğŸ˜¶â€ğŸŒ«ï¸æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼šgithub: <a href="https://github.com/3293172751/golang-rearn" target="_blank" rel="noopener noreferrer">https://github.com/3293172751/golang-rearn<ExternalLinkIcon/></a></p>
<hr>
<p><strong>åŒºå—é“¾æŠ€æœ¯ï¼ˆä¹Ÿç§°ä¹‹ä¸ºåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼‰</strong>ï¼Œæ˜¯ä¸€ç§äº’è”ç½‘æ•°æ®åº“æŠ€æœ¯ï¼Œå…¶ç‰¹ç‚¹æ˜¯å»ä¸­å¿ƒåŒ–ï¼Œå…¬å¼€é€æ˜ï¼Œè®©æ¯ä¸€ä¸ªäººå‡å¯å‚ä¸çš„æ•°æ®åº“è®°å½•</p>
<blockquote>
<p>â¤ï¸ğŸ’•ğŸ’•å…³äºåŒºå—é“¾æŠ€æœ¯ï¼Œå¯ä»¥å…³æ³¨æˆ‘ï¼Œå…±åŒå­¦ä¹ æ›´å¤šçš„åŒºå—é“¾æŠ€æœ¯ã€‚åšå®¢<a href="http://nsddd.top" target="_blank" rel="noopener noreferrer">http://nsddd.top<ExternalLinkIcon/></a></p>
</blockquote>
<hr>
<h2 id="æ¥å£ä½“ç°å¤šæ€" tabindex="-1"><a class="header-anchor" href="#æ¥å£ä½“ç°å¤šæ€" aria-hidden="true">#</a> æ¥å£ä½“ç°å¤šæ€</h2>
<blockquote>
<p>æ¥å£ä½“ç°å‡ºå¤šæ€</p>
</blockquote>
<p><strong>Golangæ•°ç»„ä¸­æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œé‚£ä¹ˆå…¶æ•°æ®ç±»å‹ä¾¿æ˜¯å…¶æ•°ç»„çš„ç±»å‹è€Œä¸å¯ä»¥æ˜¯å…¶ä»–çš„ç±»å‹ã€‚</strong></p>
<p>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">//å£°æ˜/å®šä¹‰ä¸€ä¸ªæ¥å£</span>
<span class="token keyword">type</span> Usb <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token comment">//å£°æ˜äº†ä¸¤ä¸ªæ²¡æœ‰å®ç°çš„æ–¹æ³•</span>
	<span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Phone <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	name <span class="token builtin">string</span>
<span class="token punctuation">}</span>  

<span class="token comment">//è®©Phone å®ç° Usbæ¥å£çš„æ–¹æ³•</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p Phone<span class="token punctuation">)</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ‰‹æœºå¼€å§‹å·¥ä½œã€‚ã€‚ã€‚"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>p Phone<span class="token punctuation">)</span> <span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"æ‰‹æœºåœæ­¢å·¥ä½œã€‚ã€‚ã€‚"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">type</span> Camera <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	name <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">//è®©Camera å®ç°   Usbæ¥å£çš„æ–¹æ³•</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c Camera<span class="token punctuation">)</span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ç›¸æœºå¼€å§‹å·¥ä½œã€‚ã€‚ã€‚"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>c Camera<span class="token punctuation">)</span> <span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"ç›¸æœºåœæ­¢å·¥ä½œã€‚ã€‚ã€‚"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//å®šä¹‰ä¸€ä¸ªUsbæ¥å£æ•°ç»„ï¼Œå¯ä»¥å­˜æ”¾Phoneå’ŒCameraçš„ç»“æ„ä½“å˜é‡</span>
	<span class="token comment">//è¿™é‡Œå°±ä½“ç°å‡ºå¤šæ€æ•°ç»„</span>
	<span class="token keyword">var</span> usbArr <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>Usb
	usbArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> Phone<span class="token punctuation">{</span><span class="token string">"vivo"</span><span class="token punctuation">}</span>
	usbArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Phone<span class="token punctuation">{</span><span class="token string">"å°ç±³"</span><span class="token punctuation">}</span>
	usbArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> Camera<span class="token punctuation">{</span><span class="token string">"å°¼åº·"</span><span class="token punctuation">}</span>
	
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>usbArr<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-container details"><summary>æ¥å£å®ç°å¸¦å‚æ•°æ–¹æ³•</summary>
<p>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
 * @Description: æ¥å£å¸¦å‚æ•°æ–¹æ³•
 * @Author: xiongxinwei 3293172751nss@gmail.com
 * @Date: 2022-10-04 21:37:41
 * @LastEditTime: 2022-10-25 10:13:45
 * @FilePath: \code\go-super\30-main.go
 * @Github_Address: https://github.com/3293172751/cs-awesome-Block_Chain
 * Copyright (c) 2022 by xiongxinwei 3293172751nss@gmail.com, All Rights Reserved. @blog: http://nsddd.top
 */</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> A <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
	<span class="token comment">//getå’Œsetæ–¹æ³•</span>
	<span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
	<span class="token function">SetName</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> A1 <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	name <span class="token builtin">string</span>
	age  <span class="token builtin">int64</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>A1<span class="token punctuation">)</span> <span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token comment">//å¯ä»¥æ˜¯æŒ‡é’ˆæ¥æ”¶è€…ï¼Œä¹Ÿå¯ä»¥æ˜¯å€¼æ¥æ”¶è€…</span>
	<span class="token keyword">return</span> a<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>A1<span class="token punctuation">)</span> <span class="token function">SetName</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//å¿…é¡»æ˜¯æŒ‡é’ˆæ¥æ”¶è€…</span>
	a<span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>A1<span class="token punctuation">)</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token comment">//æ‰“å°ç»“æ„ä½“</span>
	<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"name=%v age=%v"</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>name<span class="token punctuation">,</span> a<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//å®ç°</span>
	a1 <span class="token operator">:=</span> <span class="token operator">&amp;</span>A1<span class="token punctuation">{</span>
		<span class="token comment">//å¿…é¡»æ˜¯æŒ‡é’ˆ</span>
		name<span class="token punctuation">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span>
		age<span class="token punctuation">:</span>  <span class="token number">20</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> a A <span class="token operator">=</span> a1
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	a<span class="token punctuation">.</span><span class="token function">SetName</span><span class="token punctuation">(</span><span class="token string">"Jack"</span><span class="token punctuation">)</span> <span class="token comment">//ä¿®æ”¹ç»“æ„ä½“çš„å€¼</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"a="</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>Running<span class="token punctuation">]</span> go run <span class="token string">"d:\æ–‡æ¡£\æœ€è¿‘çš„<span class="token entity" title="\a">\a</span>wesome-golang\docs<span class="token entity" title="\c">\c</span>ode\go-super<span class="token entity" title="\t">\t</span>empCodeRunnerFile.go"</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>Tom <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">20</span>
Tom
Jack
<span class="token assign-left variable">a</span><span class="token operator">=</span> <span class="token assign-left variable">name</span><span class="token operator">=</span>Jack <span class="token assign-left variable">age</span><span class="token operator">=</span><span class="token number">20</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h2 id="ç»“æ„ä½“æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ç»“æ„ä½“æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£åŒºåˆ«" aria-hidden="true">#</a> ç»“æ„ä½“æ¥æ”¶è€…å’ŒæŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£åŒºåˆ«</h2>
<p>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
 * @Description: interface
 * @Author: xiongxinwei 3293172751nss@gmail.com
 * @Date: 2022-10-04 21:37:41
 * @LastEditTime: 2022-10-25 10:01:38
 * @FilePath: \code\go-super\29-main.go
 * @Github_Address: https://github.com/3293172751/cs-awesome-Block_Chain
 * Copyright (c) 2022 by xiongxinwei 3293172751nss@gmail.com, All Rights Reserved. @blog: http://nsddd.top
 */</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> animal <span class="token keyword">interface</span> <span class="token punctuation">{</span> <span class="token comment">//åŠ¨ç‰©æ¥å£</span>
	<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">eat</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> cat <span class="token keyword">struct</span> <span class="token punctuation">{</span> <span class="token comment">//çŒ«ç»“æ„ä½“</span>
	name <span class="token builtin">string</span>
	feet <span class="token builtin">int8</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cat<span class="token punctuation">)</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//æŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"çŒ«åŠ¨"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cat<span class="token punctuation">)</span> <span class="token function">eat</span><span class="token punctuation">(</span>food <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"çŒ«åƒ%s\n"</span><span class="token punctuation">,</span> food<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token operator">&amp;</span>cat<span class="token punctuation">{</span><span class="token string">"tom"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span>
	<span class="token comment">//æ³¨æ„ï¼šæ¥å£å˜é‡ä¿å­˜çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘äº†å®ç°è¯¥æ¥å£çš„è‡ªå®šä¹‰ç±»å‹çš„å˜é‡ï¼ˆç»“æ„ä½“å˜é‡ï¼‰</span>
	<span class="token comment">//var a = cat{"tom", 4} é”™è¯¯å†™æ³•</span>
	<span class="token keyword">var</span> ai <span class="token operator">=</span> a
	ai<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	ai<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">"fish"</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>çŒ«åŠ¨
çŒ«åƒfish
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ“œ å¯¹ä¸Šé¢çš„è§£é‡Šï¼š</p>
<blockquote>
<p>æ¥å£å˜é‡ä¿å­˜çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘äº†å®ç°è¯¥æ¥å£çš„è‡ªå®šä¹‰ç±»å‹çš„å˜é‡ï¼ˆç»“æ„ä½“å˜é‡ï¼‰</p>
<p><code v-pre>var a = cat{&quot;tom&quot;, 4}</code> è¿™ä¸ªæ˜¯é”™è¯¯å†™æ³•</p>
</blockquote>
<h2 id="ç±»å‹æ–­è¨€-â€“-æ¥å£åˆ¤æ–­ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€-â€“-æ¥å£åˆ¤æ–­ç±»å‹" aria-hidden="true">#</a> ç±»å‹æ–­è¨€ â€“ æ¥å£åˆ¤æ–­ç±»å‹</h2>
<details class="custom-container details"><summary>ç±»å‹æ–­è¨€åˆ¤æ–­</summary>
<p>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
 * @Description:ç±»å‹æ–­è¨€ -- æ¥å£ç±»å‹è½¬æ¢
 * @Author: xiongxinwei 3293172751nss@gmail.com
 * @Date: 2022-10-04 21:37:41
 * @LastEditTime: 2022-10-25 09:26:03
 * @FilePath: \code\go-super\28-main.go
 * @Github_Address: https://github.com/3293172751/cs-awesome-Block_Chain
 * Copyright (c) 2022 by xiongxinwei 3293172751nss@gmail.com, All Rights Reserved. @blog: http://nsddd.top
 */</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">var</span> a <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	a <span class="token operator">=</span> <span class="token number">10</span>
	<span class="token keyword">if</span> v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> a<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"è½¬æ¢æˆåŠŸ,a="</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"è½¬æ¢å¤±è´¥"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	a <span class="token operator">=</span> <span class="token number">10.4</span>
	<span class="token keyword">if</span> v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> a<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"è½¬æ¢æˆåŠŸ,a="</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"è½¬æ¢å¤±è´¥"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>Running<span class="token punctuation">]</span> go run <span class="token string">"d:\æ–‡æ¡£\æœ€è¿‘çš„<span class="token entity" title="\a">\a</span>wesome-golang\docs<span class="token entity" title="\c">\c</span>ode\go-super<span class="token entity" title="\2">\2</span>8-main.go"</span>
è½¬æ¢å¤±è´¥
è½¬æ¢æˆåŠŸ,a<span class="token operator">=</span> <span class="token number">10.4</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå°±ç„¶åæ ¹æ®ä¸åŒçš„ç±»å‹ï¼Œåšä¸åŒçš„äº‹æƒ…ï¼š</strong></p>
<p>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š x.(type)åªèƒ½ç»“åˆswitchä½¿ç”¨</strong></p>
</blockquote>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">//if-elseç±»å‹æ–­è¨€</span>
<span class="token keyword">func</span> <span class="token function">Prints</span><span class="token punctuation">(</span>x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x is a int, value is %v"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x is a string, value is %v"</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"unsupport type!"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åŒæ ·å¯ä»¥ç”¨switchå®ç°ï¼š</strong></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">//ä½¿ç”¨switchè¯­å¥ï¼Œå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯ä»€ä¹ˆç±»å‹</span>
<span class="token keyword">func</span> <span class="token function">switch2</span><span class="token punctuation">(</span>x <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">switch</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token builtin">string</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"x is a string"</span><span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"x is a int"</span><span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"x is a bool"</span><span class="token punctuation">)</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"unsupport type!"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>
<h2 id="ç±»å‹æ–­è¨€-å¦‚ä½•æ£€æµ‹å’Œè½¬æ¢æ¥å£å˜é‡çš„ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€-å¦‚ä½•æ£€æµ‹å’Œè½¬æ¢æ¥å£å˜é‡çš„ç±»å‹" aria-hidden="true">#</a> ç±»å‹æ–­è¨€ï¼šå¦‚ä½•æ£€æµ‹å’Œè½¬æ¢æ¥å£å˜é‡çš„ç±»å‹</h2>
<p>ä¸€ä¸ªæ¥å£ç±»å‹çš„å˜é‡ <code v-pre>varI</code> ä¸­å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹çš„å€¼ï¼Œå¿…é¡»æœ‰ä¸€ç§æ–¹å¼æ¥æ£€æµ‹å®ƒçš„ <strong>åŠ¨æ€</strong> ç±»å‹ï¼Œå³è¿è¡Œæ—¶åœ¨å˜é‡ä¸­å­˜å‚¨çš„å€¼çš„å®é™…ç±»å‹ã€‚åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€ç±»å‹å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯å®ƒæ€»æ˜¯å¯ä»¥åˆ†é…ç»™æ¥å£å˜é‡æœ¬èº«çš„ç±»å‹ã€‚é€šå¸¸æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>ç±»å‹æ–­è¨€</strong> æ¥æµ‹è¯•åœ¨æŸä¸ªæ—¶åˆ» <code v-pre>varI</code> æ˜¯å¦åŒ…å«ç±»å‹ <code v-pre>T</code> çš„å€¼ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code>v <span class="token operator">:=</span> varI<span class="token punctuation">.</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span>       <span class="token comment">// unchecked type assertion</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>varI å¿…é¡»æ˜¯ä¸€ä¸ªæ¥å£å˜é‡</strong>ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š<code v-pre>invalid type assertion: varI.(T) (non-interface type (type of varI) on left)</code> ã€‚</p>
<p>ç±»å‹æ–­è¨€å¯èƒ½æ˜¯æ— æ•ˆçš„ï¼Œè™½ç„¶ç¼–è¯‘å™¨ä¼šå°½åŠ›æ£€æŸ¥è½¬æ¢æ˜¯å¦æœ‰æ•ˆï¼Œä½†æ˜¯å®ƒä¸å¯èƒ½é¢„è§æ‰€æœ‰çš„å¯èƒ½æ€§ã€‚å¦‚æœè½¬æ¢åœ¨ç¨‹åºè¿è¡Œæ—¶å¤±è´¥ä¼šå¯¼è‡´é”™è¯¯å‘ç”Ÿã€‚æ›´å®‰å…¨çš„æ–¹å¼æ˜¯ä½¿ç”¨ä»¥ä¸‹å½¢å¼æ¥è¿›è¡Œç±»å‹æ–­è¨€ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">if</span> v<span class="token punctuation">,</span> ok <span class="token operator">:=</span> varI<span class="token punctuation">.</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>  <span class="token comment">// checked type assertion</span>
    <span class="token function">Process</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>
<span class="token comment">// varI is not of type T</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè½¬æ¢åˆæ³•ï¼Œ<code v-pre>v</code> æ˜¯ <code v-pre>varI</code> è½¬æ¢åˆ°ç±»å‹ <code v-pre>T</code> çš„å€¼ï¼Œ<code v-pre>ok</code> ä¼šæ˜¯ <code v-pre>true</code>ï¼›å¦åˆ™ <code v-pre>v</code> æ˜¯ç±»å‹ <code v-pre>T</code> çš„é›¶å€¼ï¼Œ<code v-pre>ok</code> æ˜¯ <code v-pre>false</code>ï¼Œä¹Ÿæ²¡æœ‰è¿è¡Œæ—¶é”™è¯¯å‘ç”Ÿã€‚</p>
<p><strong>åº”è¯¥æ€»æ˜¯ä½¿ç”¨ä¸Šé¢çš„æ–¹å¼æ¥è¿›è¡Œç±»å‹æ–­è¨€</strong>ã€‚</p>
<p>å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½åªæ˜¯æƒ³åœ¨ <code v-pre>if</code> ä¸­æµ‹è¯•ä¸€ä¸‹ <code v-pre>ok</code> çš„å€¼ï¼Œæ­¤æ—¶ä½¿ç”¨ä»¥ä¸‹çš„æ–¹æ³•ä¼šæ˜¯æœ€æ–¹ä¾¿çš„ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> ok <span class="token operator">:=</span> varI<span class="token punctuation">.</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ 11.4 <a href="examples/chapter_11/type_interfaces.go">type_interfaces.go</a>ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"math"</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Square <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	side <span class="token builtin">float32</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Circle <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	radius <span class="token builtin">float32</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Shaper <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float32</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> areaIntf Shaper
	sq1 <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>Square<span class="token punctuation">)</span>
	sq1<span class="token punctuation">.</span>side <span class="token operator">=</span> <span class="token number">5</span>

	areaIntf <span class="token operator">=</span> sq1
	<span class="token comment">// Is Square the type of areaIntf?</span>
	<span class="token keyword">if</span> t<span class="token punctuation">,</span> ok <span class="token operator">:=</span> areaIntf<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>Square<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"The type of areaIntf is: %T\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> u<span class="token punctuation">,</span> ok <span class="token operator">:=</span> areaIntf<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>Circle<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"The type of areaIntf is: %T\n"</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"areaIntf does not contain a variable of type Circle"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>sq <span class="token operator">*</span>Square<span class="token punctuation">)</span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float32</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> sq<span class="token punctuation">.</span>side <span class="token operator">*</span> sq<span class="token punctuation">.</span>side
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>ci <span class="token operator">*</span>Circle<span class="token punctuation">)</span> <span class="token function">Area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float32</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> ci<span class="token punctuation">.</span>radius <span class="token operator">*</span> ci<span class="token punctuation">.</span>radius <span class="token operator">*</span> math<span class="token punctuation">.</span>Pi
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºï¼š</p>
<pre><code>The type of areaIntf is: *main.Square
areaIntf does not contain a variable of type Circle
</code></pre>
<p>ç¨‹åºä¸­å®šä¹‰äº†ä¸€ä¸ªæ–°ç±»å‹ <code v-pre>Circle</code>ï¼Œå®ƒä¹Ÿå®ç°äº† <code v-pre>Shaper</code> æ¥å£ã€‚ <code v-pre>if t, ok := areaIntf.(*Square); ok </code> æµ‹è¯• <code v-pre>areaIntf</code> é‡Œæ˜¯å¦æœ‰ä¸€ä¸ªåŒ…å« <code v-pre>*Square</code> ç±»å‹çš„å˜é‡ï¼Œç»“æœæ˜¯ç¡®å®šçš„ï¼›ç„¶åæˆ‘ä»¬æµ‹è¯•å®ƒæ˜¯å¦åŒ…å«ä¸€ä¸ª <code v-pre>*Circle</code> ç±»å‹çš„å˜é‡ï¼Œç»“æœæ˜¯å¦å®šçš„ã€‚</p>
<p><strong>å¤‡æ³¨</strong></p>
<p>å¦‚æœå¿½ç•¥ <code v-pre>areaIntf.(*Square)</code> ä¸­çš„ <code v-pre>*</code> å·ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼š<code v-pre>impossible type assertion: Square does not implement Shaper (Area method has pointer receiver)</code>ã€‚</p>
<h2 id="ç±»å‹åˆ¤æ–­-type-switch" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åˆ¤æ–­-type-switch" aria-hidden="true">#</a> ç±»å‹åˆ¤æ–­ï¼štype-switch</h2>
<p>æ¥å£å˜é‡çš„ç±»å‹ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ç§ç‰¹æ®Šå½¢å¼çš„ <code v-pre>switch</code> æ¥æ£€æµ‹ï¼š<strong>type-switch</strong> ï¼ˆä¸‹é¢æ˜¯ç¤ºä¾‹ 11.4 çš„ç¬¬äºŒéƒ¨åˆ†ï¼‰ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">switch</span> t <span class="token operator">:=</span> areaIntf<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">case</span> <span class="token operator">*</span>Square<span class="token punctuation">:</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Type Square %T with value %v\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> t<span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token operator">*</span>Circle<span class="token punctuation">:</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Type Circle %T with value %v\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> t<span class="token punctuation">)</span>
<span class="token keyword">case</span> <span class="token boolean">nil</span><span class="token punctuation">:</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"nil value: nothing to check?\n"</span><span class="token punctuation">)</span>
<span class="token keyword">default</span><span class="token punctuation">:</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Unexpected type %T\n"</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºï¼š</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>Type Square *main.Square with value &amp;{5}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å˜é‡ <code v-pre>t</code> å¾—åˆ°äº† <code v-pre>areaIntf</code> çš„å€¼å’Œç±»å‹ï¼Œæ‰€æœ‰ <code v-pre>case</code> è¯­å¥ä¸­åˆ—ä¸¾çš„ç±»å‹ï¼ˆ<code v-pre>nil</code> é™¤å¤–ï¼‰éƒ½å¿…é¡»å®ç°å¯¹åº”çš„æ¥å£ï¼ˆåœ¨ä¸Šä¾‹ä¸­å³ <code v-pre>Shaper</code>ï¼‰ï¼Œå¦‚æœè¢«æ£€æµ‹ç±»å‹æ²¡æœ‰åœ¨ <code v-pre>case</code> è¯­å¥åˆ—ä¸¾çš„ç±»å‹ä¸­ï¼Œå°±ä¼šæ‰§è¡Œ <code v-pre>default</code> è¯­å¥ã€‚</p>
<p>å¯ä»¥ç”¨ <code v-pre>type-switch</code> è¿›è¡Œè¿è¡Œæ—¶ç±»å‹åˆ†æï¼Œä½†æ˜¯åœ¨ <code v-pre>type-switch</code> ä¸å…è®¸æœ‰ <code v-pre>fallthrough</code> ã€‚</p>
<p>å¦‚æœä»…ä»…æ˜¯æµ‹è¯•å˜é‡çš„ç±»å‹ï¼Œä¸ç”¨å®ƒçš„å€¼ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸éœ€è¦èµ‹å€¼è¯­å¥ï¼Œæ¯”å¦‚ï¼š</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>switch areaIntf.(type) {
case *Square:
	// TODO
case *Circle:
	// TODO
...
default:
	// TODO
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢çš„ä»£ç ç‰‡æ®µå±•ç¤ºäº†ä¸€ä¸ªç±»å‹åˆ†ç±»å‡½æ•°ï¼Œå®ƒæœ‰ä¸€ä¸ªå¯å˜é•¿åº¦å‚æ•°ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„æ•°ç»„ï¼Œå®ƒä¼šæ ¹æ®æ•°ç»„å…ƒç´ çš„å®é™…ç±»å‹æ‰§è¡Œä¸åŒçš„åŠ¨ä½œï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">classifier</span><span class="token punctuation">(</span>items <span class="token operator">...</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span> x <span class="token operator">:=</span> <span class="token keyword">range</span> items <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> x<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token builtin">bool</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Param #%d is a bool\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token keyword">case</span> <span class="token builtin">float64</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Param #%d is a float64\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token keyword">case</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int64</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Param #%d is a int\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token keyword">case</span> <span class="token boolean">nil</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Param #%d is a nil\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token keyword">case</span> <span class="token builtin">string</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Param #%d is a string\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token keyword">default</span><span class="token punctuation">:</span>
			fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Param #%d is unknown\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥è¿™æ ·è°ƒç”¨æ­¤æ–¹æ³•ï¼š<code v-pre>classifier(13, -14.3, &quot;BELGIUM&quot;, complex(1, 2), nil, false)</code> ã€‚</p>
<p>åœ¨å¤„ç†æ¥è‡ªäºå¤–éƒ¨çš„ã€ç±»å‹æœªçŸ¥çš„æ•°æ®æ—¶ï¼Œæ¯”å¦‚è§£æè¯¸å¦‚ JSON æˆ– XML ç¼–ç çš„æ•°æ®ï¼Œç±»å‹æµ‹è¯•å’Œè½¬æ¢ä¼šéå¸¸æœ‰ç”¨ã€‚</p>
<h2 id="æµ‹è¯•ä¸€ä¸ªå€¼æ˜¯å¦å®ç°äº†æŸä¸ªæ¥å£" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•ä¸€ä¸ªå€¼æ˜¯å¦å®ç°äº†æŸä¸ªæ¥å£" aria-hidden="true">#</a> æµ‹è¯•ä¸€ä¸ªå€¼æ˜¯å¦å®ç°äº†æŸä¸ªæ¥å£</h2>
<p>è¿™æ˜¯ 11.3 ç±»å‹æ–­è¨€ä¸­çš„ä¸€ä¸ªç‰¹ä¾‹ï¼šå‡å®š <code v-pre>v</code> æ˜¯ä¸€ä¸ªå€¼ï¼Œç„¶åæˆ‘ä»¬æƒ³æµ‹è¯•å®ƒæ˜¯å¦å®ç°äº† <code v-pre>Stringer</code> æ¥å£ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">type</span> Stringer <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> sv<span class="token punctuation">,</span> ok <span class="token operator">:=</span> v<span class="token punctuation">.</span><span class="token punctuation">(</span>Stringer<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"v implements String(): %s\n"</span><span class="token punctuation">,</span> sv<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// note: sv, not v</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code v-pre>Print</code> å‡½æ•°å°±æ˜¯å¦‚æ­¤æ£€æµ‹ç±»å‹æ˜¯å¦å¯ä»¥æ‰“å°è‡ªèº«çš„ã€‚</p>
<p>æ¥å£æ˜¯ä¸€ç§å¥‘çº¦ï¼Œå®ç°ç±»å‹å¿…é¡»æ»¡è¶³å®ƒï¼Œå®ƒæè¿°äº†ç±»å‹çš„è¡Œä¸ºï¼Œè§„å®šç±»å‹å¯ä»¥åšä»€ä¹ˆã€‚æ¥å£å½»åº•å°†ç±»å‹èƒ½åšä»€ä¹ˆï¼Œä»¥åŠå¦‚ä½•åšåˆ†ç¦»å¼€æ¥ï¼Œä½¿å¾—ç›¸åŒæ¥å£çš„å˜é‡åœ¨ä¸åŒçš„æ—¶åˆ»è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºï¼Œè¿™å°±æ˜¯å¤šæ€çš„æœ¬è´¨ã€‚</p>
<p>ç¼–å†™å‚æ•°æ˜¯æ¥å£å˜é‡çš„å‡½æ•°ï¼Œè¿™ä½¿å¾—å®ƒä»¬æ›´å…·æœ‰ä¸€èˆ¬æ€§ã€‚l</p>
<p><strong>ä½¿ç”¨æ¥å£ä½¿ä»£ç æ›´å…·æœ‰æ™®é€‚æ€§ã€‚</strong></p>
<p>æ ‡å‡†åº“é‡Œåˆ°å¤„éƒ½ä½¿ç”¨äº†è¿™ä¸ªåŸåˆ™ï¼Œå¦‚æœå¯¹æ¥å£æ¦‚å¿µæ²¡æœ‰è‰¯å¥½çš„æŠŠæ¡ï¼Œæ˜¯ä¸å¯èƒ½ç†è§£å®ƒæ˜¯å¦‚ä½•æ„å»ºçš„ã€‚</p>
<p>åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¼šè®¨è®ºä¸¤ä¸ªé‡è¦çš„ä¾‹å­ï¼Œè¯•ç€å»æ·±å…¥ç†è§£å®ƒä»¬ï¼Œè¿™æ ·ä½ å°±å¯ä»¥æ›´å¥½çš„åº”ç”¨ä¸Šé¢çš„åŸåˆ™ã€‚</p>
<h2 id="æ¥å£åµŒå¥—" tabindex="-1"><a class="header-anchor" href="#æ¥å£åµŒå¥—" aria-hidden="true">#</a> æ¥å£åµŒå¥—</h2>
<p>ğŸ’¡ç®€å•çš„ä¸€ä¸ªæ¡ˆä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">/*
 * @Description:æ¥å£åµŒå¥—
 * @Author: xiongxinwei 3293172751nss@gmail.com
 * @Date: 2022-10-04 21:37:41
 * @LastEditTime: 2022-10-25 10:32:49
 * @FilePath: \code\go-super\31-main.go
 * @Github_Address: https://github.com/3293172751/cs-awesome-Block_Chain
 * Copyright (c) 2022 by xiongxinwei 3293172751nss@gmail.com, All Rights Reserved. @blog: http://nsddd.top
 */</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">type</span> Ainterface <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token comment">// Aæ¥å£</span>
	<span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Binterface <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token comment">// Bæ¥å£</span>
	<span class="token function">SetName</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Animaler <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token comment">// Animaleræ¥å£</span>
	Ainterface
	Binterface
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Dog <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	<span class="token comment">// Dog</span>
	name <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>Dog<span class="token punctuation">)</span> <span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
	<span class="token comment">// å®ç°Aæ¥å£</span>
	<span class="token keyword">return</span> d<span class="token punctuation">.</span>name
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>d <span class="token operator">*</span>Dog<span class="token punctuation">)</span> <span class="token function">SetName</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// å®ç°Bæ¥å£</span>
	d<span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	dog <span class="token operator">:=</span> <span class="token operator">&amp;</span>Dog<span class="token punctuation">{</span>
		name<span class="token punctuation">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">var</span> animaler Animaler <span class="token operator">=</span> dog <span class="token comment">//animaileråµŒå¥—äº†Ainterfaceå’ŒBinterface</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>animaler<span class="token punctuation">.</span><span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	animaler<span class="token punctuation">.</span><span class="token function">SetName</span><span class="token punctuation">(</span><span class="token string">"dog1"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>animaler<span class="token punctuation">.</span><span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš€ ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>[Running] go run "d:\æ–‡æ¡£\æœ€è¿‘çš„\awesome-golang\docs\code\go-super\31-main.go"
Tom
dog1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2>
<ul><li><div><a href = '12.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—</a><a href = '14.md' style='float: right'>â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>
<ul>
<li>
<p><RouterLink to="/">â“‚ï¸å›åˆ°ç›®å½•ğŸ </RouterLink></p>
</li>
<li>
<p><a href="https://nsddd.top/archives/contributors" target="_blank" rel="noopener noreferrer"><strong>ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–</strong><ExternalLinkIcon/></a>)</p>
</li>
<li>
<p>âœ´ï¸ç‰ˆæƒå£°æ˜ Â© :æœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="noopener noreferrer">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©<ExternalLinkIcon/></a></p>
</li>
</ul>
</div></template>


