<template><div><ul>
<li><a href="https://github.com/cubxxw/iam" target="_blank" rel="noopener noreferrer">ğŸ”¥ å¼€æºåœ°å€<ExternalLinkIcon/></a></li>
</ul>
<h1 id="ç¬¬10èŠ‚-å¦‚ä½•ç”Ÿæˆ-swagger-api-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#ç¬¬10èŠ‚-å¦‚ä½•ç”Ÿæˆ-swagger-api-æ–‡æ¡£" aria-hidden="true">#</a> ç¬¬10èŠ‚ å¦‚ä½•ç”Ÿæˆ Swagger API æ–‡æ¡£</h1>
<br>
<div><a href = '9.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '11.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>
<blockquote>
<p>â¤ï¸ğŸ’•ğŸ’•During the winter vacation, I followed up and learned two projects: tiktok project and IAM project, and summarized and practiced the CloudNative project and Go language. I learned a lot in the process.Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<ExternalLinkIcon/></a></p>
</blockquote>
<hr>
<nav class="table-of-contents"><ul><li><router-link to="#å¼€å§‹">å¼€å§‹</router-link><ul><li><router-link to="#ä¸ºä»€ä¹ˆéœ€è¦-swagger">ä¸ºä»€ä¹ˆéœ€è¦ Swagger</router-link></li><li><router-link to="#swagger-å’Œ-openapi-çš„åŒºåˆ«">Swagger å’Œ OpenAPI çš„åŒºåˆ«</router-link></li></ul></li><li><router-link to="#ç”¨-go-swagger-æ¥ç”Ÿæˆ-swagger-api-æ–‡æ¡£">ç”¨ go-swagger æ¥ç”Ÿæˆ Swagger API æ–‡æ¡£</router-link><ul><li><router-link to="#go-swagger">go-swagger</router-link></li><li><router-link to="#é¡¹ç›®çŠ¶æ€">é¡¹ç›®çŠ¶æ€</router-link></li></ul></li><li><router-link to="#swagger-ä¸Šæ‰‹">Swagger ä¸Šæ‰‹</router-link><ul><li><router-link to="#å®‰è£…-swagger-å·¥å…·">å®‰è£… Swagger å·¥å…·</router-link></li><li><router-link to="#swagger-å‘½ä»¤è¡Œå·¥å…·ä»‹ç»">swagger å‘½ä»¤è¡Œå·¥å…·ä»‹ç»</router-link></li></ul></li><li><router-link to="#å¦‚ä½•ä½¿ç”¨-swagger-å‘½ä»¤ç”Ÿæˆ-swagger-æ–‡æ¡£">å¦‚ä½•ä½¿ç”¨ swagger å‘½ä»¤ç”Ÿæˆ Swagger æ–‡æ¡£ï¼Ÿ</router-link><ul><li><router-link to="#swagger-æ³¨é‡Š">Swagger æ³¨é‡Š</router-link></li><li><router-link to="#parameter-æ³¨é‡Š">Parameter æ³¨é‡Š</router-link></li><li><router-link to="#response-æ³¨é‡Š">Response æ³¨é‡Š</router-link></li><li><router-link to="#è§£ææ³¨é‡Šç”Ÿæˆ-swagger-æ–‡æ¡£">è§£ææ³¨é‡Šç”Ÿæˆ Swagger æ–‡æ¡£</router-link></li></ul></li><li><router-link to="#go-swagger-å…¶ä»–å¸¸ç”¨åŠŸèƒ½ä»‹ç»">go-swagger å…¶ä»–å¸¸ç”¨åŠŸèƒ½ä»‹ç»</router-link><ul><li><router-link to="#å¯¹æ¯”-swagger-æ–‡æ¡£">å¯¹æ¯” Swagger æ–‡æ¡£</router-link></li><li><router-link to="#ç”ŸæˆæœåŠ¡ç«¯ä»£ç ">ç”ŸæˆæœåŠ¡ç«¯ä»£ç </router-link></li><li><router-link to="#ç”Ÿæˆå®¢æˆ·ç«¯ä»£ç ">ç”Ÿæˆå®¢æˆ·ç«¯ä»£ç </router-link></li><li><router-link to="#éªŒè¯-swagger-æ–‡æ¡£æ˜¯å¦åˆæ³•">éªŒè¯ Swagger æ–‡æ¡£æ˜¯å¦åˆæ³•</router-link></li><li><router-link to="#åˆå¹¶-swagger-æ–‡æ¡£">åˆå¹¶ Swagger æ–‡æ¡£</router-link></li></ul></li><li><router-link to="#iam-swagger-æ–‡æ¡£">IAM Swagger æ–‡æ¡£</router-link></li><li><router-link to="#æ€»ç»“">æ€»ç»“</router-link></li><li><router-link to="#end-é“¾æ¥">END é“¾æ¥</router-link></li></ul></nav>
<p>[TOC]</p>
<h2 id="å¼€å§‹" tabindex="-1"><a class="header-anchor" href="#å¼€å§‹" aria-hidden="true">#</a> å¼€å§‹</h2>
<p><strong>æˆ‘ä»¬æœ‰äº†è§£åˆ° RUSTful :</strong></p>
<p>RESTfulæ˜¯ä¸€ç§è®¾è®¡å’Œå¼€å‘WebæœåŠ¡çš„è½¯ä»¶æ¶æ„é£æ ¼ï¼Œå…¶å…¨ç§°ä¸ºRepresentational State Transferã€‚RESTfulæ¶æ„é£æ ¼å¼ºè°ƒä½¿ç”¨ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰æ¥è¡¨ç¤ºèµ„æºï¼Œé€šè¿‡HTTPåè®®ä¸­çš„GETã€POSTã€PUTã€DELETEç­‰æ–¹æ³•å¯¹è¿™äº›èµ„æºè¿›è¡Œæ“ä½œï¼Œä»¥åŠé€šè¿‡HTTPå“åº”è¿”å›æ•°æ®æˆ–çŠ¶æ€ç æ¥è¡¨ç¤ºè¯·æ±‚ç»“æœã€‚</p>
<p>åœ¨RESTfulæ¶æ„ä¸­ï¼Œæ¯ä¸ªURIä»£è¡¨ä¸€ä¸ªèµ„æºï¼Œä¾‹å¦‚ä¸€ä¸ªWebé¡µé¢ã€ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶æˆ–è€…ä¸€ä¸ªæ•°æ®åº“è¡¨ã€‚é€šè¿‡HTTPæ–¹æ³•å¯¹è¿™äº›èµ„æºè¿›è¡Œæ“ä½œæ—¶ï¼Œå®¢æˆ·ç«¯å‘é€çš„HTTPè¯·æ±‚ä¸­åŒ…å«äº†å¯¹èµ„æºçš„æ ‡è¯†ä»¥åŠæ‰€è¦æ‰§è¡Œçš„æ“ä½œï¼ŒæœåŠ¡ç«¯æ ¹æ®è¯·æ±‚è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œå¹¶è¿”å›HTTPå“åº”ä»¥å‘ŠçŸ¥å®¢æˆ·ç«¯æ“ä½œç»“æœã€‚</p>
<p>RESTfulæ¶æ„é£æ ¼çš„è®¾è®¡ç†å¿µåŒ…æ‹¬ï¼šèµ„æºçš„æ ‡è¯†æ€§ã€ç»Ÿä¸€æ¥å£ã€æ— çŠ¶æ€ã€å¯ç¼“å­˜æ€§å’Œåˆ†å±‚ç³»ç»Ÿç­‰ã€‚å®ƒå·²ç»æˆä¸ºå½“å‰WebæœåŠ¡å¼€å‘ä¸­çš„ä¸»æµæ¶æ„é£æ ¼ä¹‹ä¸€ï¼Œè¢«å¹¿æ³›åº”ç”¨äºWebæœåŠ¡çš„è®¾è®¡å’Œå¼€å‘ä¸­ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆéœ€è¦-swagger" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦-swagger" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆéœ€è¦ Swagger</h3>
<p>waggeræ˜¯ä¸€ä¸ªAPIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆå·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜è‡ªåŠ¨ç”Ÿæˆå¯äº¤äº’çš„APIæ–‡æ¡£å’Œä»£ç ç¤ºä¾‹ã€‚ä½¿ç”¨Swaggerå¯ä»¥å¤§å¤§æé«˜APIæ–‡æ¡£çš„å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿å¼€å‘äººå‘˜å¯¹APIè¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ã€‚</p>
<p><strong>å­¦ä¹ Swaggerå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼š</strong></p>
<ol>
<li>
<p>äº†è§£Swaggerçš„åŸºæœ¬æ¦‚å¿µå’Œä½¿ç”¨æ–¹æ³•ã€‚å¯ä»¥é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œäº†è§£Swaggerçš„åŸºæœ¬ç”¨æ³•å’Œå¸¸ç”¨ç‰¹æ€§ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨Swaggeræ¥å®šä¹‰APIæ¥å£ã€ç”Ÿæˆæ–‡æ¡£å’Œä»£ç ç¤ºä¾‹ç­‰ã€‚</p>
</li>
<li>
<p>å­¦ä¹ Swaggerçš„é«˜çº§ç‰¹æ€§ã€‚é™¤äº†åŸºæœ¬çš„æ–‡æ¡£ç”ŸæˆåŠŸèƒ½ä¹‹å¤–ï¼ŒSwaggerè¿˜æä¾›äº†ä¸€ç³»åˆ—é«˜çº§ç‰¹æ€§ï¼Œå¦‚APIå®‰å…¨è®¤è¯ã€è¯·æ±‚/å“åº”éªŒè¯ã€APIç‰ˆæœ¬ç®¡ç†ç­‰ã€‚å­¦ä¹ è¿™äº›ç‰¹æ€§å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´å¥½åœ°ä½¿ç”¨Swaggeræ¥è®¾è®¡å’Œå¼€å‘APIã€‚</p>
</li>
<li>
<p>å®è·µSwaggerçš„ä½¿ç”¨ã€‚åœ¨å­¦ä¹ Swaggerçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ç»“åˆè‡ªå·±çš„é¡¹ç›®æ¥å®è·µSwaggerçš„ä½¿ç”¨ï¼Œä»è€Œæ›´å¥½åœ°æŒæ¡Swaggerçš„ä½¿ç”¨æ–¹æ³•å’ŒæŠ€å·§ã€‚</p>
</li>
</ol>
<p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ Swaggerå‘¢ï¼Ÿå› ä¸ºSwaggerä½œä¸ºä¸€ç§APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆå·¥å…·ï¼Œåœ¨ç°ä»£çš„Webå¼€å‘ä¸­ä½¿ç”¨å¹¿æ³›ï¼Œå¯ä»¥å¤§å¤§æé«˜APIæ–‡æ¡£çš„å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ï¼Œå‡å°‘APIæ–‡æ¡£ç¼–å†™çš„å·¥ä½œé‡ï¼ŒåŒæ—¶ä¹Ÿæ–¹ä¾¿å¼€å‘äººå‘˜å¯¹APIè¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ã€‚æŒæ¡Swaggerçš„ä½¿ç”¨å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´å¥½åœ°è®¾è®¡å’Œå¼€å‘APIï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚</p>
<p><strong>ğŸŒ¥ï¸ ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>Swagger æ˜¯ä¸€å¥—å›´ç»• OpenAPI è§„èŒƒæ„å»ºçš„å¼€æºå·¥å…·ï¼Œå¯ä»¥è®¾è®¡ã€æ„å»ºã€ç¼–å†™å’Œä½¿ç”¨ REST APIã€‚Swagger åŒ…å«å¾ˆå¤šå·¥å…·ï¼Œå…¶ä¸­ä¸»è¦çš„ Swagger å·¥å…·åŒ…æ‹¬ï¼š</li>
<li>Swagger ç¼–è¾‘å™¨ï¼šåŸºäºæµè§ˆå™¨çš„ç¼–è¾‘å™¨ï¼Œå¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ OpenAPI è§„èŒƒï¼Œå¹¶å®æ—¶é¢„è§ˆ API æ–‡æ¡£ã€‚https://editor.swagger.io å°±æ˜¯ä¸€ä¸ª Swagger ç¼–è¾‘å™¨ï¼Œä½ å¯ä»¥å°è¯•åœ¨å…¶ä¸­ç¼–è¾‘å’Œé¢„è§ˆ API æ–‡æ¡£ã€‚</li>
<li>Swagger UIï¼šå°† OpenAPI è§„èŒƒå‘ˆç°ä¸ºäº¤äº’å¼ API æ–‡æ¡£ï¼Œå¹¶å¯ä»¥åœ¨æµè§ˆå™¨ä¸­å°è¯• API è°ƒç”¨ã€‚</li>
<li>Swagger Codegenï¼šæ ¹æ® OpenAPI è§„èŒƒï¼Œç”ŸæˆæœåŠ¡å™¨å­˜æ ¹å’Œå®¢æˆ·ç«¯ä»£ç åº“ï¼Œç›®å‰å·²æ¶µç›–äº† 40 å¤šç§è¯­è¨€ã€‚</li>
</ul>
<h3 id="swagger-å’Œ-openapi-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#swagger-å’Œ-openapi-çš„åŒºåˆ«" aria-hidden="true">#</a> Swagger å’Œ OpenAPI çš„åŒºåˆ«</h3>
<p>æˆ‘ä»¬åœ¨è°ˆåˆ° Swagger æ—¶ï¼Œä¹Ÿç»å¸¸ä¼šè°ˆåˆ° OpenAPIã€‚é‚£ä¹ˆäºŒè€…æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<p>OpenAPIæ˜¯ä¸€ç§æè¿°RESTful APIçš„è§„èŒƒï¼Œè€ŒSwaggeræ˜¯ä¸€ç§å®ç°OpenAPIè§„èŒƒçš„å·¥å…·ã€‚</p>
<blockquote>
<p>å…·ä½“æ¥è¯´ï¼ŒOpenAPIè§„èŒƒå®šä¹‰äº†ä¸€ç§æ ‡å‡†çš„APIæè¿°è¯­è¨€å’Œæ•°æ®æ ¼å¼ï¼Œç”¨äºæè¿°RESTful APIçš„ç»“æ„ã€å‚æ•°ã€å“åº”ç­‰ä¿¡æ¯ã€‚OpenAPIè§„èŒƒå…è®¸å¼€å‘äººå‘˜ä½¿ç”¨YAMLæˆ–JSONæ ¼å¼æ¥å®šä¹‰APIçš„ç»“æ„ï¼Œä½¿å¾—APIçš„æè¿°æ›´åŠ æ¸…æ™°ã€è§„èŒƒã€æ˜“äºç†è§£å’Œä½¿ç”¨ã€‚OpenAPIè§„èŒƒçš„å®šä¹‰å¯ä»¥ä½œä¸ºAPIè®¾è®¡çš„æŒ‡å—ï¼Œå¹¶ä¸”å¯ä»¥ç”¨äºç”ŸæˆAPIæ–‡æ¡£å’Œå®¢æˆ·ç«¯ä»£ç ã€‚</p>
<p>è€ŒSwaggeræ˜¯ä¸€ä¸ªå®ç°äº†OpenAPIè§„èŒƒçš„å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—åŠŸèƒ½ï¼Œå¦‚APIæè¿°ã€APIæµ‹è¯•ã€APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆç­‰ã€‚ä½¿ç”¨Swaggerï¼Œå¼€å‘äººå‘˜å¯ä»¥é€šè¿‡GUIç•Œé¢æˆ–è€…APIæè¿°æ–‡ä»¶æ¥å®šä¹‰APIï¼ŒSwaggerå¯ä»¥æ ¹æ®è¿™äº›å®šä¹‰ç”ŸæˆAPIæ–‡æ¡£ã€å®¢æˆ·ç«¯ä»£ç ã€APIæµ‹è¯•ç­‰ã€‚Swaggerå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´å¥½åœ°ç†è§£APIçš„ç»“æ„ã€å‚æ•°ã€å“åº”ç­‰ä¿¡æ¯ï¼Œæé«˜APIçš„å¼€å‘æ•ˆç‡å’Œè´¨é‡ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼ŒOpenAPIå’ŒSwaggeréƒ½æ˜¯ä¸RESTful APIç›¸å…³çš„å·¥å…·å’Œè§„èŒƒï¼ŒOpenAPIè§„èŒƒå®šä¹‰äº†ä¸€ç§æ ‡å‡†çš„APIæè¿°è¯­è¨€å’Œæ•°æ®æ ¼å¼ï¼Œè€ŒSwaggeræ˜¯ä¸€ç§å®ç°äº†OpenAPIè§„èŒƒçš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ›´å¥½åœ°ç†è§£ã€æè¿°å’Œä½¿ç”¨RESTful APIã€‚</p>
</blockquote>
<p><strong>OpenAPI æ˜¯ä¸€ä¸ª API è§„èŒƒï¼Œå®ƒçš„å‰èº«å« Swagger è§„èŒƒï¼Œé€šè¿‡å®šä¹‰ä¸€ç§ç”¨æ¥æè¿° API æ ¼å¼æˆ– API å®šä¹‰çš„è¯­è¨€ï¼Œæ¥è§„èŒƒ RESTful æœåŠ¡å¼€å‘è¿‡ç¨‹ï¼Œç›®å‰æœ€æ–°çš„ OpenAPI è§„èŒƒæ˜¯OpenAPI 3.0ï¼ˆä¹Ÿå°±æ˜¯ Swagger 2.0 è§„èŒƒï¼‰ã€‚</strong></p>
<p><strong>OpenAPI è§„èŒƒè§„å®šäº†ä¸€ä¸ª API å¿…é¡»åŒ…å«çš„åŸºæœ¬ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>å¯¹ API çš„æè¿°ï¼Œä»‹ç» API å¯ä»¥å®ç°çš„åŠŸèƒ½ã€‚</li>
<li>æ¯ä¸ª API ä¸Šå¯ç”¨çš„è·¯å¾„ï¼ˆ<code v-pre>/users</code>ï¼‰å’Œæ“ä½œï¼ˆGET /usersï¼ŒPOST /usersï¼‰ã€‚</li>
<li>æ¯ä¸ª API çš„è¾“å…¥ / è¿”å›çš„å‚æ•°ã€‚</li>
<li>éªŒè¯æ–¹æ³•ã€‚</li>
<li>è”ç³»ä¿¡æ¯ã€è®¸å¯è¯ã€ä½¿ç”¨æ¡æ¬¾å’Œå…¶ä»–ä¿¡æ¯ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œä½ å¯ä»¥ç®€å•åœ°è¿™ä¹ˆç†è§£ï¼šOpenAPI æ˜¯ä¸€ä¸ª API è§„èŒƒï¼ŒSwagger åˆ™æ˜¯å®ç°è§„èŒƒçš„å·¥å…·ã€‚</p>
<p>å¦å¤–ï¼Œè¦ç¼–å†™ Swagger æ–‡æ¡£ï¼Œé¦–å…ˆè¦ä¼šä½¿ç”¨ Swagger æ–‡æ¡£ç¼–å†™è¯­æ³•ï¼Œå› ä¸ºè¯­æ³•æ¯”è¾ƒå¤šï¼Œè¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ï¼Œä½ å¯ä»¥å‚è€ƒ Swagger å®˜æ–¹æä¾›çš„<a href="https://swagger.io/specification/" target="_blank" rel="noopener noreferrer">OpenAPI Specification<ExternalLinkIcon/></a>æ¥å­¦ä¹ ã€‚</p>
<h2 id="ç”¨-go-swagger-æ¥ç”Ÿæˆ-swagger-api-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#ç”¨-go-swagger-æ¥ç”Ÿæˆ-swagger-api-æ–‡æ¡£" aria-hidden="true">#</a> ç”¨ go-swagger æ¥ç”Ÿæˆ Swagger API æ–‡æ¡£</h2>
<p>åœ¨ Go é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹æ³•æ¥ç”Ÿæˆ Swagger API æ–‡æ¡£ï¼š</p>
<ul>
<li>ç¬¬ä¸€ï¼Œå¦‚æœä½ ç†Ÿæ‚‰ Swagger è¯­æ³•çš„è¯ï¼Œå¯ä»¥ç›´æ¥ç¼–å†™ JSON/YAML æ ¼å¼çš„ Swagger æ–‡æ¡£ã€‚å»ºè®®é€‰æ‹© YAML æ ¼å¼ï¼Œå› ä¸ºå®ƒæ¯” JSON æ ¼å¼æ›´ç®€æ´ç›´è§‚ã€‚</li>
<li>ç¬¬äºŒï¼Œé€šè¿‡å·¥å…·ç”Ÿæˆ Swagger æ–‡æ¡£ï¼Œç›®å‰å¯ä»¥é€šè¿‡<a href="https://github.com/swaggo/swag" target="_blank" rel="noopener noreferrer">swag<ExternalLinkIcon/></a>å’Œ<a href="https://github.com/go-swagger/go-swagger" target="_blank" rel="noopener noreferrer">go-swagger<ExternalLinkIcon/></a>ä¸¤ä¸ªå·¥å…·æ¥ç”Ÿæˆã€‚</li>
</ul>
<p>å¯¹æ¯”è¿™ä¸¤ç§æ–¹æ³•ï¼Œç›´æ¥ç¼–å†™ Swagger æ–‡æ¡£ï¼Œä¸æ¯”ç¼–å†™ Markdown æ ¼å¼çš„ API æ–‡æ¡£å·¥ä½œé‡å°ï¼Œæˆ‘è§‰å¾—ä¸ç¬¦åˆç¨‹åºå‘˜â€œå·æ‡’â€çš„ä¹ æƒ¯ã€‚æ‰€ä»¥ï¼Œæœ¬ä¸“æ æˆ‘ä»¬å°±ä½¿ç”¨ go-swagger å·¥å…·ï¼ŒåŸºäºä»£ç æ³¨é‡Šæ¥è‡ªåŠ¨ç”Ÿæˆ Swagger æ–‡æ¡£ã€‚ä¸ºä»€ä¹ˆé€‰ go-swagger å‘¢ï¼Ÿæœ‰è¿™ä¹ˆå‡ ä¸ªåŸå› ï¼š</p>
<ul>
<li><strong>go-swagger æ¯” swag åŠŸèƒ½æ›´å¼ºå¤§ï¼š</strong> go-swagger æä¾›äº†æ›´çµæ´»ã€æ›´å¤šçš„åŠŸèƒ½æ¥æè¿°æˆ‘ä»¬çš„ APIã€‚</li>
<li><strong>ä½¿æˆ‘ä»¬çš„ä»£ç æ›´æ˜“è¯»</strong>ï¼šå¦‚æœä½¿ç”¨ swagï¼Œæˆ‘ä»¬æ¯ä¸€ä¸ª API éƒ½éœ€è¦æœ‰ä¸€ä¸ªå†—é•¿çš„æ³¨é‡Šï¼Œæœ‰æ—¶å€™ä»£ç æ³¨é‡Šæ¯”ä»£ç è¿˜è¦é•¿ï¼Œä½†æ˜¯é€šè¿‡ go-swagger æˆ‘ä»¬å¯ä»¥å°†ä»£ç å’Œæ³¨é‡Šåˆ†å¼€ç¼–å†™ï¼Œä¸€æ–¹é¢å¯ä»¥ä½¿æˆ‘ä»¬çš„ä»£ç ä¿æŒç®€æ´ï¼Œæ¸…æ™°æ˜“è¯»ï¼Œå¦ä¸€æ–¹é¢æˆ‘ä»¬å¯ä»¥åœ¨å¦å¤–ä¸€ä¸ªåŒ…ä¸­ï¼Œç»Ÿä¸€ç®¡ç†è¿™äº› Swagger API æ–‡æ¡£å®šä¹‰ã€‚</li>
<li><strong>æ›´å¥½çš„ç¤¾åŒºæ”¯æŒ</strong>ï¼šgo-swagger ç›®å‰æœ‰éå¸¸å¤šçš„ Github star æ•°ï¼Œå‡ºç° Bug çš„æ¦‚ç‡å¾ˆå°ï¼Œå¹¶ä¸”å¤„åœ¨ä¸€ä¸ªé¢‘ç¹æ›´æ–°çš„æ´»è·ƒçŠ¶æ€ã€‚</li>
</ul>
<h3 id="go-swagger" tabindex="-1"><a class="header-anchor" href="#go-swagger" aria-hidden="true">#</a> go-swagger</h3>
<ul>
<li><a href="https://github.com/go-swagger/go-swagger" target="_blank" rel="noopener noreferrer">Github Project Address<ExternalLinkIcon/></a></li>
</ul>
<p>ä½ å·²ç»çŸ¥é“äº†ï¼Œgo-swagger æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ã€é«˜æ€§èƒ½çš„ã€å¯ä»¥æ ¹æ®ä»£ç æ³¨é‡Šç”Ÿæˆ Swagger API æ–‡æ¡£çš„å·¥å…·ã€‚</p>
<p><code v-pre>go-swagger</code>ä¸º Go ç¤¾åŒºå¸¦æ¥äº†ä¸€å¥—å®Œæ•´çš„åŠŸèƒ½é½å…¨ã€é«˜æ€§èƒ½çš„ API ç»„ä»¶ï¼Œå¯ä¸ Swagger API é…åˆä½¿ç”¨ï¼šæœåŠ¡å™¨ã€å®¢æˆ·ç«¯å’Œæ•°æ®æ¨¡å‹ã€‚</p>
<ul>
<li>ä» swagger è§„èŒƒç”ŸæˆæœåŠ¡å™¨</li>
<li>ä» swagger è§„èŒƒç”Ÿæˆå®¢æˆ·ç«¯</li>
<li>ä» swagger è§„èŒƒï¼ˆalpha é˜¶æ®µï¼‰ç”Ÿæˆ CLIï¼ˆå‘½ä»¤è¡Œå·¥å…·ï¼‰</li>
<li>æ”¯æŒ jsonschema å’Œ swagger æä¾›çš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¤šæ€æ€§</li>
<li>ä»å¸¦æ³¨é‡Šçš„ go ä»£ç ç”Ÿæˆ swagger è§„èŒƒ</li>
<li>ä½¿ç”¨ swagger è§„èŒƒçš„é™„åŠ å·¥å…·</li>
<li>å‡ºè‰²çš„å®šåˆ¶åŠŸèƒ½ï¼Œå…·æœ‰ä¾›åº”å•†æ‰©å±•å’Œå¯å®šåˆ¶æ¨¡æ¿</li>
</ul>
<p>æˆ‘ä»¬å¯¹ä»£ç ç”Ÿæˆçš„å…³æ³¨ç‚¹æ˜¯ç”Ÿæˆæƒ¯ç”¨çš„ã€å¿«é€Ÿçš„ go ä»£ç ï¼Œå®ƒå¯ä»¥å¾ˆå¥½åœ°ä¸ golintã€go vet ç­‰é…åˆä½¿ç”¨ã€‚</p>
<p>âš ï¸ è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬è¦å¯¹å¤–æä¾› API çš„ Go SDKï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ go-swagger æ¥ç”Ÿæˆå®¢æˆ·ç«¯ä»£ç ã€‚ä½†æ˜¯æˆ‘è§‰å¾— go-swagger ç”Ÿæˆçš„æœåŠ¡ç«¯ä»£ç ä¸å¤Ÿä¼˜é›…ï¼Œæ‰€ä»¥å»ºè®®ä½ è‡ªè¡Œç¼–å†™æœåŠ¡ç«¯ä»£ç ã€‚</p>
<p>ç›®å‰ï¼Œæœ‰å¾ˆå¤šçŸ¥åå…¬å¸å’Œç»„ç»‡çš„é¡¹ç›®éƒ½ä½¿ç”¨äº† go-swaggerï¼Œä¾‹å¦‚ Mobyã€CoreOSã€Kubernetesã€Cilium ç­‰ã€‚</p>
<h3 id="é¡¹ç›®çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®çŠ¶æ€" aria-hidden="true">#</a> é¡¹ç›®çŠ¶æ€</h3>
<p><code v-pre>go-swagger</code>ç°åœ¨åŠŸèƒ½å·²ç»å®Œæˆå¹¶ä¸”å·²ç»ç¨³å®šäº†å®ƒçš„ APIã€‚</p>
<p>å¤§å¤šæ•°åŠŸèƒ½å’Œæ„å»ºå—ç°åœ¨éƒ½å¤„äºç¨³å®šçŠ¶æ€ï¼Œå…·æœ‰ä¸°å¯Œçš„ CI æµ‹è¯•é›†ã€‚</p>
<p>go-openapi ç¤¾åŒºç§¯æåœ°ç»§ç»­ä¸ºè¿™ä¸ªä»£ç åº“å¸¦æ¥ä¿®å¤å’Œå¢å¼ºã€‚</p>
<h2 id="swagger-ä¸Šæ‰‹" tabindex="-1"><a class="header-anchor" href="#swagger-ä¸Šæ‰‹" aria-hidden="true">#</a> Swagger ä¸Šæ‰‹</h2>
<h3 id="å®‰è£…-swagger-å·¥å…·" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-swagger-å·¥å…·" aria-hidden="true">#</a> å®‰è£… Swagger å·¥å…·</h3>
<p>go-swagger é€šè¿‡ swagger å‘½ä»¤è¡Œå·¥å…·æ¥å®Œæˆå…¶åŠŸèƒ½ï¼Œswagger å®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code>$ <span class="token keyword">go</span> get <span class="token operator">-</span>u github<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token keyword">go</span><span class="token operator">-</span>swagger<span class="token operator">/</span><span class="token keyword">go</span><span class="token operator">-</span>swagger<span class="token operator">/</span>cmd<span class="token operator">/</span>swagger

$ swagger version
version<span class="token punctuation">:</span> v0<span class="token punctuation">.</span><span class="token number">30.4</span>
commit<span class="token punctuation">:</span> <span class="token punctuation">(</span>unknown<span class="token punctuation">,</span> mod sum<span class="token punctuation">:</span> <span class="token string">"h1:cPrWLSXY6ZdcgfRicOj0lANg72TkTHz6uv/OlUdzO5U="</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="swagger-å‘½ä»¤è¡Œå·¥å…·ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#swagger-å‘½ä»¤è¡Œå·¥å…·ä»‹ç»" aria-hidden="true">#</a> swagger å‘½ä»¤è¡Œå·¥å…·ä»‹ç»</h3>
<p>swagger å‘½ä»¤æ ¼å¼ä¸º<code v-pre>swagger [OPTIONS]</code> ã€‚å¯ä»¥é€šè¿‡swagger -hæŸ¥çœ‹ swagger ä½¿ç”¨å¸®åŠ©ã€‚swagger æä¾›çš„å­å‘½ä»¤åŠåŠŸèƒ½è§ä¸‹è¡¨ï¼š</p>
<img src="http://sm.nsddd.top/sm202302211206119.png" alt="sadfasfdaijfoaisjfdoisa" style="zoom:33%;" />
<h2 id="å¦‚ä½•ä½¿ç”¨-swagger-å‘½ä»¤ç”Ÿæˆ-swagger-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨-swagger-å‘½ä»¤ç”Ÿæˆ-swagger-æ–‡æ¡£" aria-hidden="true">#</a> å¦‚ä½•ä½¿ç”¨ swagger å‘½ä»¤ç”Ÿæˆ Swagger æ–‡æ¡£ï¼Ÿ</h2>
<p>go-swagger é€šè¿‡è§£ææºç ä¸­çš„æ³¨é‡Šæ¥ç”Ÿæˆ <a href="https://github.com/go-swagger/go-swagger" target="_blank" rel="noopener noreferrer">Swagger æ–‡æ¡£<ExternalLinkIcon/></a>ï¼Œgo-swagger çš„è¯¦ç»†æ³¨é‡Šè¯­æ³•å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚å¸¸ç”¨çš„æœ‰å¦‚ä¸‹å‡ ç±»æ³¨é‡Šè¯­æ³•ï¼š</p>
<p>go-swagger æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆ RESTful API çš„å·¥å…·ï¼Œå®ƒæ”¯æŒä½¿ç”¨ Swagger è§„èŒƒï¼ˆOpenAPI è§„èŒƒï¼‰æ¥å®šä¹‰ API çš„æ¥å£å’Œæ¨¡å‹ã€‚åœ¨ä½¿ç”¨ go-swagger æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„æ³¨é‡Šè¯­æ³•æ¥å®šä¹‰ API çš„ä¿¡æ¯å’Œå‚æ•°ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„å‡ ç±»æ³¨é‡Šè¯­æ³•å’Œç¤ºä¾‹ï¼š</p>
<h3 id="swagger-æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#swagger-æ³¨é‡Š" aria-hidden="true">#</a> Swagger æ³¨é‡Š</h3>
<p>Swagger æ³¨é‡Šç”¨äºå®šä¹‰ API çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ <strong>API çš„æ ‡é¢˜ã€æè¿°ã€ç‰ˆæœ¬å·</strong> ç­‰ã€‚ä½¿ç”¨ <code v-pre>swagger:xxx</code> çš„å½¢å¼æ¥æ³¨é‡Šï¼Œå…¶ä¸­ <code v-pre>xxx</code> è¡¨ç¤ºæ³¨é‡Šçš„å…·ä½“ä¿¡æ¯ã€‚</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">// swagger:operation GET /books/{id} getBook</span>
<span class="token comment">//</span>
<span class="token comment">// ---</span>
<span class="token comment">// summary: Get book by ID</span>
<span class="token comment">// description: Returns a single book by its ID.</span>
<span class="token comment">// parameters:</span>
<span class="token comment">// - name: id</span>
<span class="token comment">//   in: path</span>
<span class="token comment">//   description: ID of the book to retrieve</span>
<span class="token comment">//   required: true</span>
<span class="token comment">//   type: string</span>
<span class="token comment">// responses:</span>
<span class="token comment">//   "200":</span>
<span class="token comment">//     description: Book information</span>
<span class="token comment">//     schema:</span>
<span class="token comment">//       "$ref": "#/definitions/Book"</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="parameter-æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#parameter-æ³¨é‡Š" aria-hidden="true">#</a> Parameter æ³¨é‡Š</h3>
<p>Parameter æ³¨é‡Šç”¨äºå®šä¹‰ API æ¥å£çš„å‚æ•°ï¼ŒåŒ…æ‹¬å‚æ•°çš„åç§°ã€ç±»å‹ã€ä½ç½®å’Œæè¿°ç­‰ä¿¡æ¯ã€‚ä½¿ç”¨ <code v-pre>param</code> çš„å½¢å¼æ¥æ³¨é‡Šï¼Œå…¶ä¸­ <code v-pre>param</code> è¡¨ç¤ºå‚æ•°çš„å…·ä½“ä¿¡æ¯ã€‚</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">// GetBookByID returns a single book by its ID.</span>
<span class="token comment">//</span>
<span class="token comment">// swagger:operation GET /books/{id} getBook</span>
<span class="token comment">//</span>
<span class="token comment">// ---</span>
<span class="token comment">// summary: Get book by ID</span>
<span class="token comment">// description: Returns a single book by its ID.</span>
<span class="token comment">// parameters:</span>
<span class="token comment">// - name: id</span>
<span class="token comment">//   in: path</span>
<span class="token comment">//   description: ID of the book to retrieve</span>
<span class="token comment">//   required: true</span>
<span class="token comment">//   type: string</span>
<span class="token comment">//   format: uuid</span>
<span class="token comment">//   param: query</span>
<span class="token comment">// responses:</span>
<span class="token comment">//   "200":</span>
<span class="token comment">//     description: Book information</span>
<span class="token comment">//     schema:</span>
<span class="token comment">//       "$ref": "#/definitions/Book"</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="response-æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#response-æ³¨é‡Š" aria-hidden="true">#</a> Response æ³¨é‡Š</h3>
<p>Response æ³¨é‡Šç”¨äºå®šä¹‰ API çš„å“åº”æ•°æ®ç»“æ„å’Œæ•°æ®ç±»å‹ã€‚ä½¿ç”¨ <code v-pre>response</code> çš„å½¢å¼æ¥æ³¨é‡Šï¼Œå…¶ä¸­ <code v-pre>response</code> è¡¨ç¤ºå“åº”çš„å…·ä½“ä¿¡æ¯ã€‚</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token comment">// GetBookByID returns a single book by its ID.</span>
<span class="token comment">//</span>
<span class="token comment">// swagger:operation GET /books/{id} getBook</span>
<span class="token comment">//</span>
<span class="token comment">// ---</span>
<span class="token comment">// summary: Get book by ID</span>
<span class="token comment">// description: Returns a single book by its ID.</span>
<span class="token comment">// parameters:</span>
<span class="token comment">// - name: id</span>
<span class="token comment">//   in: path</span>
<span class="token comment">//   description: ID of the book to retrieve</span>
<span class="token comment">//   required: true</span>
<span class="token comment">//   type: string</span>
<span class="token comment">//   format: uuid</span>
<span class="token comment">// responses:</span>
<span class="token comment">//   "200":</span>
<span class="token comment">//     description: Book information</span>
<span class="token comment">//     schema:</span>
<span class="token comment">//       "$ref": "#/definitions/Book"</span>
<span class="token comment">//       response: noContent</span>
<span class="token comment">//   "404":</span>
<span class="token comment">//     description: Book not found</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è§£ææ³¨é‡Šç”Ÿæˆ-swagger-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#è§£ææ³¨é‡Šç”Ÿæˆ-swagger-æ–‡æ¡£" aria-hidden="true">#</a> è§£ææ³¨é‡Šç”Ÿæˆ Swagger æ–‡æ¡£</h3>
<p><code v-pre>swagger generate</code> å‘½ä»¤ä¼šæ‰¾åˆ° main å‡½æ•°ï¼Œç„¶åéå†æ‰€æœ‰æºç æ–‡ä»¶ï¼Œè§£ææºç ä¸­ä¸ Swagger ç›¸å…³çš„æ³¨é‡Šï¼Œç„¶åè‡ªåŠ¨ç”Ÿæˆ <code v-pre>swagger.json/swagger.yaml</code> æ–‡ä»¶ã€‚</p>
<p>è¿™ä¸€è¿‡ç¨‹çš„ç¤ºä¾‹ä»£ç ä¸º <a href="https://github.com/marmotedu/gopractise-demo/tree/main/swagger" target="_blank" rel="noopener noreferrer">gopractise-demo/swagger<ExternalLinkIcon/></a>ã€‚ç›®å½•ä¸‹æœ‰ä¸€ä¸ª <code v-pre>main.go</code> æ–‡ä»¶ï¼Œå®šä¹‰äº†å¦‚ä¸‹ API æ¥å£ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"fmt"</span>
    <span class="token string">"log"</span>
    <span class="token string">"net/http"</span>

    <span class="token string">"github.com/gin-gonic/gin"</span>

    <span class="token string">"github.com/marmotedu/gopractise-demo/swagger/api"</span>
    <span class="token comment">// This line is necessary for go-swagger to find your docs!</span>
    <span class="token boolean">_</span> <span class="token string">"github.com/marmotedu/gopractise-demo/swagger/docs"</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> users <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>api<span class="token punctuation">.</span>User

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">,</span> Create<span class="token punctuation">)</span>
    r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/users/:name"</span><span class="token punctuation">,</span> Get<span class="token punctuation">)</span>

    log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">":5555"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Create create a user in memory.</span>
<span class="token keyword">func</span> <span class="token function">Create</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> user api<span class="token punctuation">.</span>User
    <span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBindJSON</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"message"</span><span class="token punctuation">:</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token number">10001</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> u <span class="token operator">:=</span> <span class="token keyword">range</span> users <span class="token punctuation">{</span>
        <span class="token keyword">if</span> u<span class="token punctuation">.</span>Name <span class="token operator">==</span> user<span class="token punctuation">.</span>Name <span class="token punctuation">{</span>
            c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"message"</span><span class="token punctuation">:</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"user %s already exist"</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token number">10001</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    users <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>users<span class="token punctuation">,</span> <span class="token operator">&amp;</span>user<span class="token punctuation">)</span>
    c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> user<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Get return the detail information for a user.</span>
<span class="token keyword">func</span> <span class="token function">Get</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    username <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> u <span class="token operator">:=</span> <span class="token keyword">range</span> users <span class="token punctuation">{</span>
        <span class="token keyword">if</span> u<span class="token punctuation">.</span>Name <span class="token operator">==</span> username <span class="token punctuation">{</span>
            c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> u<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">"message"</span><span class="token punctuation">:</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"user %s not exist"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token number">10002</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>main åŒ…ä¸­å¼•å…¥çš„ User struct ä½äº <code v-pre>gopractise-demo/swagger/api</code> ç›®å½•ä¸‹çš„<a href="https://github.com/marmotedu/gopractise-demo/blob/main/swagger/api/user.go" target="_blank" rel="noopener noreferrer">user.go<ExternalLinkIcon/></a>æ–‡ä»¶ï¼š</p>
<div class="language-python ext-py line-numbers-mode"><pre v-pre class="language-python"><code><span class="token operator">//</span> Package api defines the user model<span class="token punctuation">.</span>
package api

<span class="token operator">//</span> User represents body of User request <span class="token keyword">and</span> response<span class="token punctuation">.</span>
<span class="token builtin">type</span> User struct <span class="token punctuation">{</span>
    <span class="token operator">//</span> User's name<span class="token punctuation">.</span>
    <span class="token operator">//</span> Required<span class="token punctuation">:</span> true
    Name string `json<span class="token punctuation">:</span><span class="token string">"name"</span>`

    <span class="token operator">//</span> User's nickname<span class="token punctuation">.</span>
    <span class="token operator">//</span> Required<span class="token punctuation">:</span> true
    Nickname string `json<span class="token punctuation">:</span><span class="token string">"nickname"</span>`

    <span class="token operator">//</span> User's address<span class="token punctuation">.</span>
    Address string `json<span class="token punctuation">:</span><span class="token string">"address"</span>`

    <span class="token operator">//</span> User's email<span class="token punctuation">.</span>
    Email string `json<span class="token punctuation">:</span><span class="token string">"email"</span>`
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code v-pre>// Required: true</code>è¯´æ˜å­—æ®µæ˜¯å¿…é¡»çš„ï¼Œç”Ÿæˆ Swagger æ–‡æ¡£æ—¶ï¼Œä¹Ÿä¼šåœ¨æ–‡æ¡£ä¸­å£°æ˜è¯¥å­—æ®µæ˜¯å¿…é¡»å­—æ®µã€‚</p>
<p>ä¸ºäº†ä½¿ä»£ç ä¿æŒç®€æ´ï¼Œæˆ‘ä»¬åœ¨å¦å¤–ä¸€ä¸ª Go åŒ…ä¸­ç¼–å†™å¸¦ go-swagger æ³¨é‡Šçš„ API æ–‡æ¡£ã€‚å‡è®¾è¯¥ Go åŒ…åå­—ä¸º docsï¼Œåœ¨å¼€å§‹ç¼–å†™ Go API æ³¨é‡Šä¹‹å‰ï¼Œéœ€è¦åœ¨ <code v-pre>main.go</code> æ–‡ä»¶ä¸­å¯¼å…¥ docs åŒ…ï¼š</p>
<div class="language-BASH ext-BASH line-numbers-mode"><pre v-pre class="language-BASH"><code>_ &quot;github.com/marmotedu/gopractise-demo/swagger/docs&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é€šè¿‡å¯¼å…¥ docs åŒ…ï¼Œå¯ä»¥ä½¿ go-swagger åœ¨é€’å½’è§£æ main åŒ…çš„ä¾èµ–åŒ…æ—¶ï¼Œæ‰¾åˆ° docs åŒ…ï¼Œå¹¶è§£æåŒ…ä¸­çš„æ³¨é‡Šã€‚</p>
<p><strong>åœ¨ gopractise-demo/swagger ç›®å½•ä¸‹ï¼Œåˆ›å»º docs æ–‡ä»¶å¤¹ï¼š</strong></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">mkdir</span> docs
$ <span class="token builtin class-name">cd</span> docs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åœ¨ docs ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ª doc.go æ–‡ä»¶ï¼Œåœ¨è¯¥æ–‡ä»¶ä¸­æä¾› API æ¥å£çš„åŸºæœ¬ä¿¡æ¯ï¼š</strong></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code>
<span class="token comment">// Package docs awesome.</span>
<span class="token comment">//</span>
<span class="token comment">// Documentation of our awesome API.</span>
<span class="token comment">//</span>
<span class="token comment">//     Schemes: http, https</span>
<span class="token comment">//     BasePath: /</span>
<span class="token comment">//     Version: 0.1.0</span>
<span class="token comment">//     Host: some-url.com</span>
<span class="token comment">//</span>
<span class="token comment">//     Consumes:</span>
<span class="token comment">//     - application/json</span>
<span class="token comment">//</span>
<span class="token comment">//     Produces:</span>
<span class="token comment">//     - application/json</span>
<span class="token comment">//</span>
<span class="token comment">//     Security:</span>
<span class="token comment">//     - basic</span>
<span class="token comment">//</span>
<span class="token comment">//    SecurityDefinitions:</span>
<span class="token comment">//    basic:</span>
<span class="token comment">//      type: basic</span>
<span class="token comment">//</span>
<span class="token comment">// swagger:meta</span>
<span class="token keyword">package</span> docs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code v-pre>Package docs</code> åé¢çš„å­—ç¬¦ä¸² <code v-pre>awesome</code> ä»£è¡¨æˆ‘ä»¬çš„ HTTP æœåŠ¡åã€‚<code v-pre>Documentation of our awesome API</code>æ˜¯æˆ‘ä»¬ API çš„æè¿°ã€‚å…¶ä»–éƒ½æ˜¯ <code v-pre>go-swagger</code> å¯è¯†åˆ«çš„æ³¨é‡Šï¼Œä»£è¡¨ä¸€å®šçš„æ„ä¹‰ã€‚æœ€åä»¥<code v-pre>swagger:meta</code>æ³¨é‡Šç»“æŸã€‚</p>
<p>ç¼–å†™å®Œ doc.go æ–‡ä»¶åï¼Œè¿›å…¥ <code v-pre>gopractise-demo/swagger</code> ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆ Swagger API æ–‡æ¡£ï¼Œå¹¶å¯åŠ¨ HTTP æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨æŸ¥çœ‹ Swaggerï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ swagger generate spec <span class="token parameter variable">-o</span> swagger.yaml
$ swagger serve --no-open <span class="token parameter variable">-F</span><span class="token operator">=</span>swagger <span class="token parameter variable">--port</span> <span class="token number">36666</span> swagger.yaml

<span class="token number">2020</span>/10/20 <span class="token number">23</span>:16:47 serving docs at http://localhost:36666/docs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li><code v-pre>-o</code>ï¼šæŒ‡å®šè¦è¾“å‡ºçš„æ–‡ä»¶åã€‚swagger ä¼šæ ¹æ®æ–‡ä»¶ååç¼€<code v-pre>.yaml</code> æˆ–è€…<code v-pre>.json</code>ï¼Œå†³å®šç”Ÿæˆçš„æ–‡ä»¶æ ¼å¼ä¸º YAML æˆ– JSONã€‚</li>
<li><code v-pre>â€“no-open</code>ï¼šå› ä¸ºæ˜¯åœ¨ Linux æœåŠ¡å™¨ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œæ²¡æœ‰å®‰è£…æµè§ˆå™¨ï¼Œæ‰€ä»¥ä½¿â€“no-open ç¦æ­¢è°ƒç”¨æµè§ˆå™¨æ‰“å¼€ URLã€‚</li>
<li><code v-pre>-F</code>ï¼šæŒ‡å®šæ–‡æ¡£çš„é£æ ¼ï¼Œå¯é€‰ swagger å’Œ redocã€‚æˆ‘é€‰ç”¨äº† redocï¼Œå› ä¸ºè§‰å¾— redoc æ ¼å¼æ›´åŠ æ˜“è¯»å’Œæ¸…æ™°ã€‚</li>
<li><code v-pre>â€“port</code>ï¼šæŒ‡å®šå¯åŠ¨çš„ HTTP æœåŠ¡ç›‘å¬ç«¯å£ã€‚</li>
</ul>
<p><strong>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®http://localhost:36666/docs ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong></p>
<p><img src="http://sm.nsddd.top/sm202302212108643.png" alt="image-20230221210845527"></p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦ JSON æ ¼å¼çš„ Swagger æ–‡æ¡£ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†ç”Ÿæˆçš„ swagger.yaml è½¬æ¢ä¸º swagger.jsonï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ swagger generate spec <span class="token parameter variable">-i</span> ./swagger.yaml <span class="token parameter variable">-o</span> ./swagger.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¼–å†™ API æ¥å£çš„å®šä¹‰æ–‡ä»¶ï¼ˆä½äº<a href="https://github.com/marmotedu/gopractise-demo/blob/main/swagger/docs/user.go" target="_blank" rel="noopener noreferrer">gopractise-demo/swagger/docs/user.go<ExternalLinkIcon/></a>æ–‡ä»¶ä¸­ï¼‰ï¼š</p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code>
<span class="token keyword">package</span> docs

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">"github.com/marmotedu/gopractise-demo/swagger/api"</span>
<span class="token punctuation">)</span>

<span class="token comment">// swagger:route POST /users user createUserRequest</span>
<span class="token comment">// Create a user in memory.</span>
<span class="token comment">// responses:</span>
<span class="token comment">//   200: createUserResponse</span>
<span class="token comment">//   default: errResponse</span>

<span class="token comment">// swagger:route GET /users/{name} user getUserRequest</span>
<span class="token comment">// Get a user from memory.</span>
<span class="token comment">// responses:</span>
<span class="token comment">//   200: getUserResponse</span>
<span class="token comment">//   default: errResponse</span>

<span class="token comment">// swagger:parameters createUserRequest</span>
<span class="token keyword">type</span> userParamsWrapper <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment">// This text will appear as description of your request body.</span>
    <span class="token comment">// in:body</span>
    Body api<span class="token punctuation">.</span>User
<span class="token punctuation">}</span>

<span class="token comment">// This text will appear as description of your request url path.</span>
<span class="token comment">// swagger:parameters getUserRequest</span>
<span class="token keyword">type</span> getUserParamsWrapper <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment">// in:path</span>
    Name <span class="token builtin">string</span> <span class="token string">`json:"name"`</span>
<span class="token punctuation">}</span>

<span class="token comment">// This text will appear as description of your response body.</span>
<span class="token comment">// swagger:response createUserResponse</span>
<span class="token keyword">type</span> createUserResponseWrapper <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment">// in:body</span>
    Body api<span class="token punctuation">.</span>User
<span class="token punctuation">}</span>

<span class="token comment">// This text will appear as description of your response body.</span>
<span class="token comment">// swagger:response getUserResponse</span>
<span class="token keyword">type</span> getUserResponseWrapper <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment">// in:body</span>
    Body api<span class="token punctuation">.</span>User
<span class="token punctuation">}</span>

<span class="token comment">// This text will appear as description of your error response body.</span>
<span class="token comment">// swagger:response errResponse</span>
<span class="token keyword">type</span> errResponseWrapper <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment">// Error code.</span>
    Code <span class="token builtin">int</span> <span class="token string">`json:"code"`</span>

    <span class="token comment">// Error message.</span>
    Message <span class="token builtin">string</span> <span class="token string">`json:"message"`</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>user.go æ–‡ä»¶è¯´æ˜ï¼š</strong></p>
<ul>
<li>swagger:routeï¼šswagger:routeä»£è¡¨ API æ¥å£æè¿°çš„å¼€å§‹ï¼Œåé¢çš„å­—ç¬¦ä¸²æ ¼å¼ä¸ºHTTPæ–¹æ³• URL Tag IDã€‚å¯ä»¥å¡«å†™å¤šä¸ª tagï¼Œç›¸åŒ tag çš„ API æ¥å£åœ¨ Swagger æ–‡æ¡£ä¸­ä¼šè¢«åˆ†ä¸ºä¸€ç»„ã€‚ID æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œswagger:parametersæ˜¯å…·æœ‰ç›¸åŒ ID çš„swagger:routeçš„è¯·æ±‚å‚æ•°ã€‚swagger:routeä¸‹é¢çš„ä¸€è¡Œæ˜¯è¯¥ API æ¥å£çš„æè¿°ï¼Œéœ€è¦ä»¥è‹±æ–‡ç‚¹å·ä¸ºç»“å°¾ã€‚responses:å®šä¹‰äº† API æ¥å£çš„è¿”å›å‚æ•°ï¼Œä¾‹å¦‚å½“ HTTP çŠ¶æ€ç æ˜¯ 200 æ—¶ï¼Œè¿”å› createUserResponseï¼ŒcreateUserResponse ä¼šè·Ÿswagger:responseè¿›è¡ŒåŒ¹é…ï¼ŒåŒ¹é…æˆåŠŸçš„swagger:responseå°±æ˜¯è¯¥ API æ¥å£è¿”å› 200 çŠ¶æ€ç æ—¶çš„è¿”å›ã€‚</li>
<li>swagger:responseï¼šswagger:responseå®šä¹‰äº† API æ¥å£çš„è¿”å›ï¼Œä¾‹å¦‚ getUserResponseWrapperï¼Œå…³äºåå­—ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦è‡ªç”±å‘½åï¼Œå¹¶ä¸ä¼šå¸¦æ¥ä»»ä½•ä¸åŒã€‚getUserResponseWrapper ä¸­æœ‰ä¸€ä¸ª Body å­—æ®µï¼Œå…¶æ³¨é‡Šä¸º// in:bodyï¼Œè¯´æ˜è¯¥å‚æ•°æ˜¯åœ¨ HTTP Body ä¸­è¿”å›ã€‚swagger:responseä¹‹ä¸Šçš„æ³¨é‡Šä¼šè¢«è§£æä¸ºè¿”å›å‚æ•°çš„æè¿°ã€‚api.User è‡ªåŠ¨è¢« go-swagger è§£æä¸ºExample Valueå’ŒModelã€‚æˆ‘ä»¬ä¸ç”¨å†å»ç¼–å†™é‡å¤çš„è¿”å›å­—æ®µï¼Œåªéœ€è¦å¼•ç”¨å·²æœ‰çš„ Go ç»“æ„ä½“å³å¯ï¼Œè¿™ä¹Ÿæ˜¯é€šè¿‡å·¥å…·ç”Ÿæˆ Swagger æ–‡æ¡£çš„é­…åŠ›æ‰€åœ¨ã€‚</li>
<li>swagger:parametersï¼šswagger:parameterså®šä¹‰äº† API æ¥å£çš„è¯·æ±‚å‚æ•°ï¼Œä¾‹å¦‚ userParamsWrapperã€‚userParamsWrapper ä¹‹ä¸Šçš„æ³¨é‡Šä¼šè¢«è§£æä¸ºè¯·æ±‚å‚æ•°çš„æè¿°ï¼Œ// in:bodyä»£è¡¨è¯¥å‚æ•°æ˜¯ä½äº HTTP Body ä¸­ã€‚åŒæ ·ï¼ŒuserParamsWrapper ç»“æ„ä½“åæˆ‘ä»¬ä¹Ÿå¯ä»¥éšæ„å‘½åï¼Œä¸ä¼šå¸¦æ¥ä»»ä½•ä¸åŒã€‚swagger:parametersä¹‹åçš„ createUserRequest ä¼šè·Ÿswagger:routeçš„ ID è¿›è¡ŒåŒ¹é…ï¼ŒåŒ¹é…æˆåŠŸåˆ™è¯´æ˜æ˜¯è¯¥ ID æ‰€åœ¨ API æ¥å£çš„è¯·æ±‚å‚æ•°ã€‚</li>
</ul>
<p>è¿›å…¥ gopractise-demo/swagger ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆ Swagger API æ–‡æ¡£ï¼Œå¹¶å¯åŠ¨ HTTP æœåŠ¡ï¼Œåœ¨æµè§ˆå™¨æŸ¥çœ‹ Swaggerï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ swagger generate spec <span class="token parameter variable">-o</span> swagger.yaml
$ swagger serve --no-open <span class="token parameter variable">-F</span><span class="token operator">=</span>swagger <span class="token parameter variable">--port</span> <span class="token number">36666</span> swagger.yaml
<span class="token number">2020</span>/10/20 <span class="token number">23</span>:28:30 serving docs at http://localhost:36666/docs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://localhost:36666/docs ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://sm.nsddd.top/sm202302212110077.png" alt="image-20230221211008018"></p>
<p>ä¸Šé¢æˆ‘ä»¬ç”Ÿæˆäº† swagger é£æ ¼çš„ UI ç•Œé¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ redoc é£æ ¼çš„ UI ç•Œé¢ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://sm.nsddd.top/sm202302212110146.png" alt="image-20230221211020081"></p>
<h2 id="go-swagger-å…¶ä»–å¸¸ç”¨åŠŸèƒ½ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#go-swagger-å…¶ä»–å¸¸ç”¨åŠŸèƒ½ä»‹ç»" aria-hidden="true">#</a> go-swagger å…¶ä»–å¸¸ç”¨åŠŸèƒ½ä»‹ç»</h2>
<p>ä¸Šé¢ï¼Œæˆ‘ä»‹ç»äº† swagger æœ€å¸¸ç”¨çš„ generateã€serve å‘½ä»¤ï¼Œå…³äº swagger å…¶ä»–æœ‰ç”¨çš„å‘½ä»¤ï¼Œè¿™é‡Œä¹Ÿç®€å•ä»‹ç»ä¸€ä¸‹ã€‚</p>
<h3 id="å¯¹æ¯”-swagger-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#å¯¹æ¯”-swagger-æ–‡æ¡£" aria-hidden="true">#</a> å¯¹æ¯” Swagger æ–‡æ¡£</h3>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>
$ swagger <span class="token function">diff</span> <span class="token parameter variable">-d</span> change.log swagger.new.yaml swagger.old.yaml
$ <span class="token function">cat</span> change.log

BREAKING CHANGES:
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
/users:post Request - Body.Body.nickname.address.email.name.Body <span class="token builtin class-name">:</span> User - Deleted property
compatibility <span class="token builtin class-name">test</span> FAILED: <span class="token number">1</span> breaking changes detected
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”ŸæˆæœåŠ¡ç«¯ä»£ç " tabindex="-1"><a class="header-anchor" href="#ç”ŸæˆæœåŠ¡ç«¯ä»£ç " aria-hidden="true">#</a> ç”ŸæˆæœåŠ¡ç«¯ä»£ç </h3>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å…ˆå®šä¹‰ Swagger æ¥å£æ–‡æ¡£ï¼Œå†ç”¨ swagger å‘½ä»¤ï¼ŒåŸºäº Swagger æ¥å£æ–‡æ¡£ç”ŸæˆæœåŠ¡ç«¯ä»£ç ã€‚å‡è®¾æˆ‘ä»¬çš„åº”ç”¨åä¸º go-userï¼Œè¿›å…¥ gopractise-demo/swagger ç›®å½•ï¼Œåˆ›å»º go-user ç›®å½•ï¼Œå¹¶ç”ŸæˆæœåŠ¡ç«¯ä»£ç ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">mkdir</span> go-user
$ <span class="token builtin class-name">cd</span> go-user
$ swagger generate server <span class="token parameter variable">-f</span> <span class="token punctuation">..</span>/swagger.yaml <span class="token parameter variable">-A</span> go-user
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆ cmdã€restapiã€models æ–‡ä»¶å¤¹ï¼Œå¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ server ç»„ä»¶å¯åŠ¨æ–¹å¼ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ go run cmd/go-user-server/main.go <span class="token parameter variable">-h</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ç”Ÿæˆå®¢æˆ·ç«¯ä»£ç " tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆå®¢æˆ·ç«¯ä»£ç " aria-hidden="true">#</a> ç”Ÿæˆå®¢æˆ·ç«¯ä»£ç </h3>
<p>åœ¨ go-user ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ swagger generate client <span class="token parameter variable">-f</span> <span class="token punctuation">..</span>/swagger.yaml <span class="token parameter variable">-A</span> go-user
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šè¿°å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆ clientï¼ŒåŒ…å«äº† API æ¥å£çš„è°ƒç”¨å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ API æ¥å£çš„ Go SDKã€‚</p>
<h3 id="éªŒè¯-swagger-æ–‡æ¡£æ˜¯å¦åˆæ³•" tabindex="-1"><a class="header-anchor" href="#éªŒè¯-swagger-æ–‡æ¡£æ˜¯å¦åˆæ³•" aria-hidden="true">#</a> éªŒè¯ Swagger æ–‡æ¡£æ˜¯å¦åˆæ³•</h3>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ swagger validate swagger.yaml
<span class="token number">2020</span>/10/21 09:53:18
The swagger spec at <span class="token string">"swagger.yaml"</span> is valid against swagger specification <span class="token number">2.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆå¹¶-swagger-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#åˆå¹¶-swagger-æ–‡æ¡£" aria-hidden="true">#</a> åˆå¹¶ Swagger æ–‡æ¡£</h3>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ swagger mixin swagger_part1.yaml swagger_part2.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="iam-swagger-æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#iam-swagger-æ–‡æ¡£" aria-hidden="true">#</a> IAM Swagger æ–‡æ¡£</h2>
<p>IAM çš„ Swagger æ–‡æ¡£å®šä¹‰åœ¨ <a href="iam/api/swagger/docs">iam/api/swagger/docs</a>ç›®å½•ä¸‹ï¼Œéµå¾ª [go-swagger]è§„èŒƒè¿›è¡Œå®šä¹‰ã€‚</p>
<p><a href="https://github.com/marmotedu/iam/blob/v1.0.0/api/swagger/docs/doc.go" target="_blank" rel="noopener noreferrer">iam/api/swagger/docs/doc.go<ExternalLinkIcon/></a>æ–‡ä»¶å®šä¹‰äº†æ›´å¤š Swagger æ–‡æ¡£çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚å¼€æºåè®®ã€è”ç³»æ–¹å¼ã€å®‰å…¨è®¤è¯ç­‰ã€‚</p>
<p>æ›´è¯¦ç»†çš„å®šä¹‰ï¼Œä½ å¯ä»¥ç›´æ¥æŸ¥çœ‹ iam/api/swagger/docs ç›®å½•ä¸‹çš„ Go æºç æ–‡ä»¶ã€‚</p>
<p>ä¸ºäº†ä¾¿äºç”Ÿæˆæ–‡æ¡£å’Œå¯åŠ¨ HTTP æœåŠ¡æŸ¥çœ‹ Swagger æ–‡æ¡£ï¼Œè¯¥æ“ä½œè¢«æ”¾åœ¨ Makefile ä¸­æ‰§è¡Œï¼ˆä½äº<a href="iam/scripts/make-rules/swagger.mk">iam/scripts/make-rules/swagger.mk</a>æ–‡ä»¶ä¸­ï¼‰ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>.PHONY: swagger.run    
swagger.run: tools.verify.swagger    
  @echo <span class="token string">"===========> Generating swagger API docs"</span>    
  @swagger generate spec --scan-models <span class="token parameter variable">-w</span> <span class="token variable"><span class="token variable">$(</span>ROOT_DIR<span class="token variable">)</span></span>/cmd/genswaggertypedocs <span class="token parameter variable">-o</span> <span class="token variable"><span class="token variable">$(</span>ROOT_DIR<span class="token variable">)</span></span>/api/swagger/swagger.yaml    
    
.PHONY: swagger.serve    
swagger.serve: tools.verify.swagger    
  @swagger serve <span class="token parameter variable">-F</span><span class="token operator">=</span>redoc --no-open <span class="token parameter variable">--port</span> <span class="token number">36666</span> <span class="token variable"><span class="token variable">$(</span>ROOT_DIR<span class="token variable">)</span></span>/api/swagger/swagger.yaml  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Makefile æ–‡ä»¶è¯´æ˜ï¼š</strong></p>
<ul>
<li><code v-pre>tools.verify.swagger</code>ï¼šæ£€æŸ¥ Linux ç³»ç»Ÿæ˜¯å¦å®‰è£…äº† go-swagger çš„å‘½ä»¤è¡Œå·¥å…· swaggerï¼Œå¦‚æœæ²¡æœ‰å®‰è£…åˆ™è¿è¡Œ go get å®‰è£…ã€‚</li>
<li><code v-pre>swagger.run</code>ï¼šè¿è¡Œ swagger generate spec å‘½ä»¤ç”Ÿæˆ Swagger æ–‡æ¡£ swagger.yamlï¼Œè¿è¡Œå‰ä¼šæ£€æŸ¥ swagger æ˜¯å¦å®‰è£…ã€‚ --scan-models æŒ‡å®šç”Ÿæˆçš„æ–‡æ¡£ä¸­åŒ…å«å¸¦æœ‰ swagger:model æ³¨é‡Šçš„ Go Modelsã€‚-w æŒ‡å®š swagger å‘½ä»¤è¿è¡Œçš„ç›®å½•ã€‚</li>
<li><code v-pre>swagger.serve</code>ï¼šè¿è¡Œ swagger serve å‘½ä»¤æ‰“å¼€ Swagger æ–‡æ¡£ swagger.yamlï¼Œè¿è¡Œå‰ä¼šæ£€æŸ¥ swagger æ˜¯å¦å®‰è£…ã€‚</li>
</ul>
<p><strong>åœ¨ iam æºç æ ¹ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå³å¯ç”Ÿæˆå¹¶å¯åŠ¨ HTTP æœåŠ¡æŸ¥çœ‹ Swagger æ–‡æ¡£ï¼š</strong></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>$ <span class="token function">make</span> swagger
$ <span class="token function">make</span> serve-swagger
<span class="token number">2020</span>/10/21 06:45:03 serving docs at http://localhost:36666/docs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“å¼€æµè§ˆå™¨ï¼Œæ‰“å¼€http://x.x.x.x:36666/docsæŸ¥çœ‹ Swagger æ–‡æ¡£ï¼Œx.x.x.x æ˜¯æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://sm.nsddd.top/sm202302212125283.png" alt="image-20230221212439191"></p>
<p>IAM çš„ Swagger æ–‡æ¡£ï¼Œè¿˜å¯ä»¥é€šè¿‡åœ¨ iam æºç æ ¹ç›®å½•ä¸‹æ‰§è¡Œgo generate ./...å‘½ä»¤ç”Ÿæˆï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ iam/cmd/genswaggertypedocs/swagger_type_docs.go æ–‡ä»¶ä¸­ï¼Œæ·»åŠ //go:generateæ³¨é‡Šã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="http://sm.nsddd.top/sm202302212126949.png" alt="image-20230221212605891"></p>
<h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2>
<p>åœ¨åš Go æœåŠ¡å¼€å‘æ—¶ï¼Œæˆ‘ä»¬è¦å‘å‰ç«¯æˆ–ç”¨æˆ·æä¾› API æ–‡æ¡£ï¼Œæ‰‹åŠ¨ç¼–å†™ API æ–‡æ¡£å·¥ä½œé‡å¤§ï¼Œä¹Ÿéš¾ä»¥ç»´æŠ¤ã€‚æ‰€ä»¥ï¼Œç°åœ¨å¾ˆå¤šé¡¹ç›®éƒ½æ˜¯è‡ªåŠ¨ç”Ÿæˆ Swagger æ ¼å¼çš„ API æ–‡æ¡£ã€‚æåˆ° Swaggerï¼Œå¾ˆå¤šå¼€å‘è€…ä¸æ¸…æ¥šå…¶å’Œ OpenAPI çš„åŒºåˆ«ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿç»™ä½ æ€»ç»“äº†ï¼šOpenAPI æ˜¯ä¸€ä¸ª API è§„èŒƒï¼ŒSwagger åˆ™æ˜¯å®ç°è§„èŒƒçš„å·¥å…·ã€‚</p>
<p>Go-Swaggeræ˜¯ä¸€ä¸ªç”¨äºæ„å»ºRESTful APIæœåŠ¡çš„å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿè‡ªåŠ¨ç”ŸæˆSwaggeræ–‡æ¡£å’Œå®¢æˆ·ç«¯ä»£ç ï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„APIå¼€å‘å·¥å…·å’Œæ¡†æ¶ã€‚ä¸‹é¢æ˜¯å¯¹Go-Swaggerçš„æ€»ç»“ï¼š</p>
<p><strong>ä¼˜ç‚¹</strong></p>
<p>Go-Swaggerçš„æœ€å¤§ä¼˜ç‚¹åœ¨äºå…¶èƒ½å¤Ÿè‡ªåŠ¨ç”ŸæˆSwaggeræ–‡æ¡£å’Œå®¢æˆ·ç«¯ä»£ç ã€‚Swaggeræ˜¯ä¸€ä¸ªç”¨äºæè¿°RESTful APIçš„æ ‡å‡†è§„èŒƒï¼Œå®ƒå®šä¹‰äº†APIçš„å„ç§ç»†èŠ‚ï¼Œå¦‚è¯·æ±‚å‚æ•°ã€è¿”å›å€¼ã€é”™è¯¯ç ç­‰ç­‰ã€‚ä½¿ç”¨Go-Swaggerå¯ä»¥è‡ªåŠ¨ç”ŸæˆSwaggeræ–‡æ¡£ï¼Œä½¿å¾—APIçš„æ–‡æ¡£ç¼–å†™æ›´åŠ å¿«é€Ÿå’Œç®€ä¾¿ã€‚åŒæ—¶ï¼ŒGo-Swaggerè¿˜å¯ä»¥ç”Ÿæˆå„ç§å®¢æˆ·ç«¯ä»£ç ï¼ŒåŒ…æ‹¬Goã€Pythonã€Javaç­‰ç­‰ï¼Œæå¤§åœ°æ–¹ä¾¿äº†APIçš„è°ƒç”¨ã€‚</p>
<p>é™¤äº†è‡ªåŠ¨ç”ŸæˆSwaggeræ–‡æ¡£å’Œå®¢æˆ·ç«¯ä»£ç å¤–ï¼ŒGo-Swaggerè¿˜æä¾›äº†è®¸å¤šAPIå¼€å‘å·¥å…·å’Œæ¡†æ¶ï¼ŒåŒ…æ‹¬éªŒè¯å™¨ã€åºåˆ—åŒ–å™¨ã€è·¯ç”±å™¨ç­‰ç­‰ã€‚è¿™äº›å·¥å…·å’Œæ¡†æ¶å¯ä»¥è®©APIçš„å¼€å‘æ›´åŠ é«˜æ•ˆå’Œæ–¹ä¾¿ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚</p>
<p><strong>ç¼ºç‚¹</strong></p>
<p>å°½ç®¡Go-Swaggerå…·æœ‰è®¸å¤šä¼˜ç‚¹ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ã€‚é¦–å…ˆï¼ŒGo-Swaggerçš„å­¦ä¹ æ›²çº¿æ¯”è¾ƒé™¡å³­ï¼Œéœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´å’Œç²¾åŠ›å»å­¦ä¹ å’ŒæŒæ¡ã€‚æ­¤å¤–ï¼Œç”±äºGo-Swaggeræ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„å·¥å…·ï¼Œå…¶ç¤¾åŒºç›¸å¯¹è¾ƒå°ï¼Œç¼ºå°‘ä¸€äº›æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆå’Œæ’ä»¶ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<p>Go-Swaggeré€‚ç”¨äºéœ€è¦å¿«é€Ÿæ„å»ºRESTful APIæœåŠ¡çš„åº”ç”¨åœºæ™¯ã€‚ä½¿ç”¨Go-Swaggerå¯ä»¥å¿«é€Ÿç”ŸæˆSwaggeræ–‡æ¡£å’Œå®¢æˆ·ç«¯ä»£ç ï¼Œå‡å°‘äº†APIæ–‡æ¡£ç¼–å†™å’Œå®¢æˆ·ç«¯ä»£ç å¼€å‘çš„å·¥ä½œé‡ï¼ŒåŒæ—¶æä¾›äº†ä¸°å¯Œçš„APIå¼€å‘å·¥å…·å’Œæ¡†æ¶ï¼Œå¤§å¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚æ­¤å¤–ï¼ŒGo-Swaggerè¿˜æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œé€‚ç”¨äºä¸åŒçš„å¼€å‘å›¢é˜Ÿå’Œå¼€å‘ç¯å¢ƒã€‚</p>
<p><strong>æ€»ç»“</strong></p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒGo-Swaggeræ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„APIå¼€å‘å·¥å…·ï¼Œèƒ½å¤Ÿå¿«é€Ÿç”ŸæˆSwaggeræ–‡æ¡£å’Œå®¢æˆ·ç«¯ä»£ç ï¼Œæä¾›äº†ä¸°å¯Œçš„APIå¼€å‘å·¥å…·å’Œæ¡†æ¶ï¼Œé€‚ç”¨äºå¿«é€Ÿæ„å»ºRESTful APIæœåŠ¡çš„åº”ç”¨åœºæ™¯ã€‚è™½ç„¶Go-Swaggerçš„å­¦ä¹ æ›²çº¿æ¯”è¾ƒé™¡å³­ï¼Œä½†é€šè¿‡å­¦ä¹ å’ŒæŒæ¡ï¼Œå¯ä»¥å¤§å¤§æé«˜APIçš„å¼€å‘æ•ˆç‡ã€‚</p>
<h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2>
<ul><li><div><a href = '9.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '11.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>
<ul>
<li>
<p><RouterLink to="/projects/">â“‚ï¸å›åˆ°ç›®å½•ğŸ </RouterLink></p>
</li>
<li>
<p><a href="https://nsddd.top/archives/contributors" target="_blank" rel="noopener noreferrer"><strong>ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–</strong><ExternalLinkIcon/></a>)</p>
</li>
<li>
<p>âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="noopener noreferrer">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©<ExternalLinkIcon/></a></p>
</li>
</ul>
</div></template>


