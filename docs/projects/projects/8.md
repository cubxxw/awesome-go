+ [ğŸ”¥ å¼€æºåœ°å€](https://github.com/cubxxw/iam)

# ç¬¬8èŠ‚ IAM é¡¹ç›®å¦‚ä½•è¿›è¡Œç ”å‘æµç¨‹ç®¡ç†

<br>
<div><a href = '7.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '9.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•During the winter vacation, I followed up and learned two projects: tiktok project and IAM project, and summarized and practiced the CloudNative project and Go language. I learned a lot in the process.Myblog:[http://nsddd.top](http://nsddd.top/)

---
[[TOC]]
[TOC]

## å¼€å§‹

**å¼€å‘é˜¶æ®µä¸»è¦è¦åšçš„ä¸¤ä»¶äº‹æƒ…åˆ†åˆ«æ˜¯ä»£ç å¼€å‘å’Œä»£ç æäº¤ä¸¤ä¸ªéƒ¨åˆ†ã€‚**

æ‹¿åˆ°éœ€æ±‚ä¹‹åï¼Œé¦–å…ˆéœ€è¦å¼€å‘ä»£ç ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦é€‰æ‹©ä¸€ä¸ªé€‚åˆå›¢é˜Ÿå’Œé¡¹ç›®çš„ Git å·¥ä½œæµã€‚å› ä¸º Git Flow å·¥ä½œæµæ¯”è¾ƒé€‚åˆå¤§å‹çš„éå¼€æºé¡¹ç›®ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é€‰æ‹© Git Flow å·¥ä½œæµã€‚ä»£ç å¼€å‘çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

**ç¬¬ä¸€æ­¥ï¼šåŸºäº develop æ–°å»ºä¸€ä¸ªåˆ†æ”¯ `feature/helloworld`**

```bash
$ git checkout -b feature/helloworld develop
```

âš ï¸ **è¿™é‡Œéœ€è¦æ³¨æ„**ï¼šæ–°å»ºçš„ branch åè¦ç¬¦åˆ Git Flow å·¥ä½œæµä¸­çš„åˆ†æ”¯å‘½åè§„åˆ™ã€‚å¦åˆ™ï¼Œåœ¨ git commit é˜¶æ®µï¼Œä¼šå› ä¸º `branch` ä¸è§„èŒƒå¯¼è‡´ `commit` å¤±è´¥ã€‚IAM é¡¹ç›®çš„åˆ†æ”¯å‘½ä»¤è§„åˆ™å…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![image-20230220095937613](http://sm.nsddd.top/sm202302200959749.png)

> IAM é¡¹ç›®é€šè¿‡ `pre-commit githooks` æ¥ç¡®ä¿åˆ†æ”¯åæ˜¯ç¬¦åˆè§„èŒƒçš„ã€‚åœ¨ IAM é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ `git commit` å‘½ä»¤ï¼Œgit ä¼šè‡ªåŠ¨æ‰§è¡Œ`pre-commit`è„šæœ¬ï¼Œè¯¥è„šæœ¬ä¼šæ£€æŸ¥å½“å‰ branch çš„åå­—æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚

è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦ä½ æ³¨æ„ï¼šgit ä¸ä¼šæäº¤ `.git/hooks` ç›®å½•ä¸‹çš„ `githooks` è„šæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ä»¥ä¸‹æ‰‹æ®µï¼Œç¡®ä¿å¼€å‘è€… clone ä»“åº“ä¹‹åï¼Œä»ç„¶èƒ½å®‰è£…æˆ‘ä»¬æŒ‡å®šçš„ githooks è„šæœ¬åˆ° `.git/hooks` ç›®å½•ï¼š

```bash
# Copy githook scripts when execute makefile    
COPY_GITHOOK:=$(shell cp -f githooks/* .git/hooks/) 
```

ä¸Šè¿°ä»£ç æ”¾åœ¨`scripts/make-rules/common.mk`æ–‡ä»¶ä¸­ï¼Œæ¯æ¬¡æ‰§è¡Œ make å‘½ä»¤æ—¶éƒ½ä¼šæ‰§è¡Œï¼Œå¯ä»¥ç¡®ä¿ `githooks` éƒ½å®‰è£…åˆ° `.git/hooks`ç›®å½•ä¸‹ã€‚



**ç¬¬äºŒæ­¥ï¼Œåœ¨ `feature/helloworld` åˆ†æ”¯ä¸­ï¼Œå®Œæˆ `helloworld` å‘½ä»¤çš„æ·»åŠ ã€‚**

é¦–å…ˆï¼Œé€šè¿‡ iamctl new helloworld å‘½ä»¤åˆ›å»º helloworld å‘½ä»¤æ¨¡æ¿ï¼š

```bash
$ iamctl new helloworld -d internal/iamctl/cmd/helloworld
Command file generated: internal/iamctl/cmd/helloworld/helloworld.go
```



æ¥ç€ï¼Œç¼–è¾‘`internal/iamctl/cmd/cmd.go`æ–‡ä»¶ï¼Œåœ¨æºç æ–‡ä»¶ä¸­æ·»åŠ `helloworld.NewCmdHelloworld(f, ioStreams`),ï¼ŒåŠ è½½ helloworld å‘½ä»¤ã€‚è¿™é‡Œå°† helloworld å‘½ä»¤è®¾ç½®ä¸ºTroubleshooting and Debugging Commandså‘½ä»¤åˆ†ç»„ï¼š





## END é“¾æ¥
<ul><li><div><a href = '7.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '9.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

